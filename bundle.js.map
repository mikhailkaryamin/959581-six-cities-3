{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/reducer/name-space.js","webpack:///./src/utils.js","webpack:///./src/consts.js","webpack:///./src/models/user.js","webpack:///./src/reducer/user/user.js","webpack:///./src/models/offer.js","webpack:///./src/reducer/user/selectors.js","webpack:///./src/reducer/response/response.js","webpack:///./src/reducer/city/city.js","webpack:///./src/reducer/offer/offer.js","webpack:///./src/models/comment.js","webpack:///./src/reducer/data/data.js","webpack:///./src/reducer/data/selectors.js","webpack:///./src/reducer/offer/selectors.js","webpack:///./src/reducer/favorite/favorite.js","webpack:///./src/reducer/sort/sort.js","webpack:///./src/reducer/favorite/selectors.js","webpack:///./src/components/page/page.tsx","webpack:///./src/components/place-card/place-card.tsx","webpack:///./src/components/favorite-button/favorite-button.tsx","webpack:///./src/components/rating/rating.tsx","webpack:///./src/hocs/with-hover/with-hover.tsx","webpack:///./src/components/map/map.tsx","webpack:///./src/components/places/places.tsx","webpack:///./src/index.tsx","webpack:///./src/components/app/app.tsx","webpack:///./src/reducer/response/selectors.js","webpack:///./src/reducer/city/selectors.js","webpack:///./src/reducer/sort/selectors.js","webpack:///./src/hocs/with-error-message/with-error-message.tsx","webpack:///./src/components/error-message/error-message.tsx","webpack:///./src/components/favorites/favorites.tsx","webpack:///./src/components/header/header.tsx","webpack:///./src/components/logotype/logotype.tsx","webpack:///./src/components/favorites-empty/favorites-empty.tsx","webpack:///./src/components/favorites-list/favorites-list.tsx","webpack:///./src/components/favorite-item/favorite-item.tsx","webpack:///./src/components/login/login.tsx","webpack:///./src/hocs/with-authorization/with-authorization.tsx","webpack:///./src/components/login-form/login-form.tsx","webpack:///./src/components/login-input/login-input.tsx","webpack:///./src/components/main/main.tsx","webpack:///./src/components/cities/cities.tsx","webpack:///./src/components/place-card-list/place-card-list.tsx","webpack:///./src/components/places-sort/places-sort.tsx","webpack:///./src/hocs/with-toggle/with-toggle.tsx","webpack:///./src/components/locations/locations.tsx","webpack:///./src/components/property/property.tsx","webpack:///./src/components/reviews/reviews.tsx","webpack:///./src/components/reviews-list/reviews-list.tsx","webpack:///./src/components/review-item/review-item.tsx","webpack:///./src/components/reviews-form/reviews-form.tsx","webpack:///./src/hocs/with-comment-data/with-comment-data.tsx","webpack:///./src/components/route-with-page/route-with-page.tsx","webpack:///./src/components/private-route/private-route.tsx","webpack:///./src/components/not-available-offers/not-available-offers.tsx","webpack:///./src/components/not-found-page/not-found-page.tsx","webpack:///./src/reducer/reducer.js","webpack:///./src/api.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","NameSpace","DATA","CITY","OFFER","SORT","USER","FAVORITE","RESPONSE","extend","a","b","assign","getUniqueArray","array","uniqueSet","Set","Array","from","AppRoute","ROOT","LOGIN","NOT_FOUND","ClassModificator","CITIES","CITIES_MAP","CITIES_PLACES","CITIES_PLACES_LIST","PROPERTY_MAP","PROPERTY","PLACE_CARD","NEAR_PLACES","NEAR_PLACES_LIST","FAVORITES","PAGE_MAIN","PAGE_LOGIN","PAGE_PROPERTY","SORTING","TypeSort","POPULAR","PRICE_LOW_TO_HIGH","PRICE_HIGH_TO_LOW","TOP_RATED_FIRST","TypeInputLogin","EMAIL","PASSWORD","ResponseStatus","STATUS_OK","UNAUTHORIZED","MS_IN_WEEK","ONE_STAR","STARS","SITE_URL","MAX_SHOW_COMMENTS","User","constructor","user","this","id","email","avatarUrl","isPro","userInfo","DEFAULT_USER","AuthorizationStatus","AUTH","NO_AUTH","initialState","authorizationStatus","ActionType","REQUIRED_AUTHORIZATION","SET_USER","ActionCreator","requireAuthorization","status","type","payload","setUser","onUserSignInSuccess","response","dispatch","parseUser","reducer","state","action","Operation","checkAuth","getState","api","then","catch","err","signIn","authData","post","login","password","responseCode","ResponseAction","setResponseStatusCode","Offer","offer","bedrooms","city","description","goods","host","images","isFavorite","isPremium","location","maxAdults","previewImage","price","rating","title","toRAW","offers","map","parseOffer","NAME_SPACE","getAuthorizationStatus","getUser","responseStatusCode","SET_RESPONSE_STATUS_CODE","RESET_RESPONSE_STATUS_CODE","code","resetResponseStatusCode","currentCity","SET_CURRENT_CITY","setCurrentCity","activeOffer","focusOffer","SET_ACTIVE_OFFER","SET_FOCUS_OFFER","RESET_FOCUS_OFFER","setActiveOffer","setFocusOffer","resetFocusOffer","Comment","comment","date","comments","parseComment","offersNearby","loadStatus","LOAD_OFFERS","LOAD_OFFERS_NEARBY","LOAD_COMMENTS","LOAD_STATUS","UPLOAD_COMMENTS","loadOffers","loadOffersNearby","loadComments","uploadComments","parseOffers","ActionCity","REQUEST","parseComments","text","getComments","getOffers","getOffersNearby","getLoadStatus","getLocations","createSelector","locations","getOffersCurrentCity","filter","getSortedCommentsNewOld","newComment","oldComment","Date","getCommentsByShow","getCountComments","getActiveOffer","getFocusOffer","favorites","ADD_FAVORITE","LOAD_FAVORITES","REMOVE_FAVORITE","addFavorite","favoriteOffer","loadFavorites","favoriteOffers","removeFavorite","currentSort","SET_CURRENT_SORT","setCurrentSort","sort","getFavorites","checkFavorite","some","getFavoritesLocations","favorite","props","className","children","isAuth","classModificator","onMouseEnter","onMouseLeave","href","src","width","height","alt","Link","to","FavoriteButton","React","PureComponent","super","_handleFavorite","onFavoriteClick","authStatus","favoriteClass","Fragment","onClick","xlinkHref","connect","ratingStyleWidth","Math","round","style","Component","WithHover","isHovered","_handleMouseEnter","_handleMouseLeave","element","setState","onCardHover","onCardLeave","Map","_mapRef","createRef","_map","undefined","_markers","_iconActive","leaflet","icon","iconUrl","iconSize","_iconDefault","_iconCurrentOffer","current","currentCityOffers","currentOfferCoordinate","COORDINATES","_getCoordinates","_initiatesMap","tileLayer","attribution","addTo","markerCoordinate","marker","CURRENT_CITY","_getCurrentCityCoordinate","setView","zoom","_resetMarkers","COORDINATES_WITH_ID","_getCoordinatesWithID","FOCUS_OFFER_ID","coordinate","lat","latitude","lng","longitude","center","zoomControl","forEach","removeLayer","ref","PlacesSortWrapped","handleSortChange","AVAILABLE_OFFERS","createAPI","store","createStore","composeWithDevTools","applyMiddleware","withExtraArgument","ReactDOM","render","Provider","document","querySelector","FavoritesWrapped","LoginWrapped","MainWrapped","PropertyWrapped","App","onResetError","responseStatus","isLoadingComplete","isNotAvailableOffers","BrowserRouter","Switch","exact","path","component","getCurrentCity","getCurrentSort","getResponseStatusCode","WithErrorMessage","toString","_isErrorCode","errorCode","Styles","errorMessage","position","top","right","left","zIndex","color","padding","backgroundColor","borderRadius","header","paddingBottom","closeButton","backgroundSize","backgroundImage","backgroundPosition","backgroundRepeat","ErrorMessage","_onEscKeyDown","_handleMessageClose","addEventListener","removeEventListener","evt","Favorites","favoritesLocations","isEmpty","_setClassModificator","FavoritesList","isCurrentCity","_getOffersForLocation","PlaceCardWrapped","LoginFormWrapped","Redirect","WithAuthorization","_setDataUser","currentTarget","onChange","LoginForm","_handleSubmit","preventDefault","method","onSubmit","PLACEHOLDER","placeholder","required","Main","handleLocationClick","PlacesCardList","places","_sortBy","isActive","onToggleClick","tabIndex","WithToggle","_handleToggleClick","Property","onLoadDataProperty","countComments","onCommentSubmit","CURRENT_OFFER_COORDINATE","img","item","ReviewsFormWrapped","reverse","ReviewItem","dateMonthYearOptions","month","year","toLocaleString","dateTime","_getDate","ReviewsForm","_submitButtonRef","_textAreaRef","_setDisabledOnClick","_checkTextAreaDisabled","disabled","prevProps","_checkSubmitDisabled","htmlFor","numberStars","checked","WithCommentData","_handleChange","parseInt","RouteWithPage","currentRequestOfferId","initialOffers","initialActiveOffer","find","onSetActiveOffer","isNaN","Route","renderProps","match","params","_checkCorrectOfferId","pathname","_setInitialActiveOffer","PrivateRoute","routeProps","combineReducers","onUnauthorized","axios","baseURL","timeout","withCredentials","interceptors","use"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAKlC,IAFGe,GAAqBA,EAAoBhB,GAEtCO,EAASC,QACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrBiB,EAAG,GAGAZ,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU8B,QAGnC,IAAIC,EAASH,EAAiB5B,GAAY,CACzCK,EAAGL,EACHgC,GAAG,EACHF,QAAS,IAUV,OANAhB,EAAQd,GAAUW,KAAKoB,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG/DK,EAAOC,GAAI,EAGJD,EAAOD,QAKfJ,EAAoBO,EAAInB,EAGxBY,EAAoBQ,EAAIN,EAGxBF,EAAoBS,EAAI,SAASL,EAASM,EAAMC,GAC3CX,EAAoBY,EAAER,EAASM,IAClC5B,OAAO+B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEX,EAAoBgB,EAAI,SAASZ,GACX,oBAAXa,QAA0BA,OAAOC,aAC1CpC,OAAO+B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DrC,OAAO+B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKzC,OAAO0C,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBzC,OAAO+B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBS,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAL,EAAoBS,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRX,EAAoBY,EAAI,SAASgB,EAAQC,GAAY,OAAO/C,OAAOC,UAAUC,eAAeC,KAAK2C,EAAQC,IAGzG7B,EAAoB8B,EAAI,mEAExB,IAAIC,EAAaC,OAAqB,aAAIA,OAAqB,cAAK,GAChEC,EAAmBF,EAAW5C,KAAKuC,KAAKK,GAC5CA,EAAW5C,KAAOf,EAClB2D,EAAaA,EAAWG,QACxB,IAAI,IAAIvD,EAAI,EAAGA,EAAIoD,EAAWlD,OAAQF,IAAKP,EAAqB2D,EAAWpD,IAC3E,IAAIU,EAAsB4C,EAI1B1C,EAAgBJ,KAAK,CAAC,GAAG,IAElBM,I,gCCvJT,MAAM0C,EAAY,CAChBC,KAAO,OACPC,KAAO,OACPC,MAAQ,QACRC,KAAO,OACPC,KAAO,OACPC,SAAW,WACXC,SAAW,YAGEP,O,6BCVf,mGAAMQ,EAAS,CAACC,EAAGC,IACV/D,OAAOgE,OAAO,GAAIF,EAAGC,GAGxBE,EAAkBC,IACtB,MAAMC,EAAY,IAAIC,IAAIF,GAE1B,OAAOG,MACJC,KAAKH,K,6BCRV,2eAAMI,EAAW,CACfC,KAAO,IACPhB,MAAQ,aACRiB,MAAQ,SACRd,SAAW,aACXe,UAAY,MAGRC,EAAmB,CACvBC,OAAS,SACTC,WAAa,cACbC,cAAgB,iBAChBC,mBAAqB,oCACrBC,aAAe,gBACfC,SAAW,WACXC,WAAa,aACbC,YAAc,cACdC,iBAAmB,oBACnBC,UAAY,YACZC,UAAY,wBACZC,WAAa,yBACbC,cAAgB,wBAGZC,EAAU,CACb,UACA,qBACA,qBACA,mBAGGC,EAAW,CACfC,QAAU,UACVC,kBAAoB,qBACpBC,kBAAoB,qBACpBC,gBAAkB,mBAGdC,EAAiB,CACrBC,MAAQ,QACRC,SAAW,YAGPC,EAAiB,CACrBC,UAAW,IACXC,aAAc,KAGVC,EAAa,OACbC,EAAW,GACXC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,GACrBC,EAAY,qDACZC,EAAoB,I,iECpD1B,MAAMC,EACJC,YAAYC,GACVC,KAAKC,GAAKF,EAAI,GACdC,KAAKE,MAAQH,EAAI,MACjBC,KAAKjF,KAAOgF,EAAI,KAChBC,KAAKG,UAAYJ,EAAI,WACrBC,KAAKI,MAAQL,EAAI,OAGnB,iBAAiBM,GACf,OAAO,IAAIR,EAAKQ,IAILR,QCdf,4QAWA,MAAMS,EAAe,CACnBL,IAAK,EACLlF,KAAO,GACPmF,MAAQ,GACRE,OAAO,EACPD,UAAY,IAGRI,EAAsB,CAC1BC,KAAO,OACPC,QAAU,WAGNC,EAAe,CACnBC,oBAAqBJ,EAAoBE,QACzCV,KAAMO,GAGFM,EAAa,CACjBC,uBAAyB,yBACzBC,SAAW,YAGPC,EAAgB,CACpBC,qBAAuBC,IACd,CACLC,KAAMN,EAAWC,uBACjBM,QAASF,IAGbG,QAAUrB,IAAD,CACPmB,KAAMN,EAAWE,SACjBK,QAASpB,KAIPsB,EAAsB,CAACC,EAAUC,KACrC,MAAMxB,EAAOF,EAAK2B,UAAUF,EAAS5I,MACrC6I,EAASR,EAAcC,qBAAqBT,EAAoBC,OAChEe,EAASR,EAAcK,QAAQrB,KAG3B0B,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAWC,uBACd,OAAO7D,iBAAO0E,EAAO,CACnBf,oBAAqBgB,EAAOR,UAEhC,KAAKP,EAAWE,SACd,OAAO9D,iBAAO0E,EAAO,CACnB3B,KAAM4B,EAAOR,UAInB,OAAOO,GAGHE,EAAY,CAChBC,UAAW,IAAM,CAACN,EAAUO,EAAUC,IAC7BA,EAAI3G,IAAK,UACb4G,KAAMV,IACLD,EAAoBC,EAAUC,KAE/BU,MAAOC,IACN,MAAMA,IAIZC,OAASC,GAAa,CAACb,EAAUO,EAAUC,IAClCA,EAAIM,KAAM,SAAS,CACxBnC,MAAOkC,EAASE,MAChBC,SAAUH,EAASG,WAElBP,KAAMV,IACL,MAAMkB,EAAelB,EAASL,OAC9BM,EAASkB,gBAAeC,sBAAsBF,IAE1CA,IAAiBnD,iBAAeC,WAClC+B,EAAoBC,EAAUC,O,gCCzFxC,MAAMoB,EACJ7C,YAAY8C,GACV5C,KAAK6C,SAAWD,EAAK,SACrB5C,KAAK8C,KAAOF,EAAK,KACjB5C,KAAK+C,YAAcH,EAAK,YACxB5C,KAAKgD,MAAQJ,EAAK,MAClB5C,KAAKiD,KAAO,CACV9C,UAAWyC,EAAMK,KAAN,WACXhD,GAAI2C,EAAMK,KAAN,GACJ7C,MAAOwC,EAAMK,KAAN,OACPlI,KAAM6H,EAAMK,KAAN,MAERjD,KAAKC,GAAK2C,EAAK,GACf5C,KAAKkD,OAASN,EAAK,OACnB5C,KAAKmD,WAAaP,EAAK,YACvB5C,KAAKoD,UAAYR,EAAK,WACtB5C,KAAKqD,SAAWT,EAAK,SACrB5C,KAAKsD,UAAYV,EAAK,WACtB5C,KAAKuD,aAAeX,EAAK,cACzB5C,KAAKwD,MAAQZ,EAAK,MAClB5C,KAAKyD,OAASb,EAAK,OACnB5C,KAAK0D,MAAQd,EAAK,MAClB5C,KAAKkB,KAAO0B,EAAK,KAGnBe,QACE,MAAO,CACL,SAAY3D,KAAK6C,SACjB,KAAQ7C,KAAK8C,KACb,YAAe9C,KAAK+C,YACpB,MAAS/C,KAAKgD,MACd,KAAQ,CACN,WAAchD,KAAKiD,KAAK9C,UACxB,GAAMH,KAAKiD,KAAKhD,GAChB,OAAUD,KAAKiD,KAAK7C,MACpB,KAAQJ,KAAKiD,KAAKlI,MAEpB,GAAMiF,KAAKC,GACX,OAAUD,KAAKkD,OACf,YAAelD,KAAKmD,WACpB,WAAcnD,KAAKoD,UACnB,SAAYpD,KAAKqD,SACjB,WAAcrD,KAAKsD,UACnB,cAAiBtD,KAAKuD,aACtB,MAASvD,KAAKwD,MACd,OAAUxD,KAAKyD,OACf,MAASzD,KAAK0D,MACd,KAAQ1D,KAAKkB,MAIjB,kBAAkB0B,GAChB,OAAO,IAAID,EAAMC,GAGnB,mBAAmBgB,GACjB,OAAOA,EAAOC,IAAIlB,EAAMmB,aAIbnB,O,6BC5Df,sGAEA,MAAMoB,EAFN,KAEmBvH,EAAUK,KAEvBmH,EAA0BtC,GACvBA,EAAMqC,GAAYpD,oBAGrBsD,EAAWvC,GACRA,EAAMqC,GAAYhE,M,+BCT3B,mJAIA,MAAMW,EAAe,CACnBwD,mBAAoB,MAGhBtD,EAAa,CACjBuD,yBAA2B,2BAC3BC,2BAA6B,8BAGzBrD,EAAgB,CACpB2B,sBAAwB2B,IAAD,CACrBnD,KAAMN,EAAWuD,yBACjBhD,QAASkD,IAEXC,wBAAyB,KAAM,CAC7BpD,KAAMN,EAAWwD,2BACjBjD,QAAS,QAIPM,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAWuD,yBAIhB,KAAKvD,EAAWwD,2BACd,OAAOpH,iBAAO0E,EAAO,CACnBwC,mBAAoBvC,EAAOR,UAIjC,OAAOO,I,6BCpCT,mJAIA,MAAMhB,EAAe,CACnB6D,YAAc,IAGV3D,EAAa,CACjB4D,iBAAmB,oBAGfzD,EAAgB,CACpB0D,eAAiB3B,IAAD,CACd5B,KAAMN,EAAW4D,iBACjBrD,QAAS2B,KAIPrB,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAW4D,iBACd,OAAOxH,iBAAO0E,EAAO,CACnB6C,YAAa5C,EAAOR,UAI1B,OAAOO,I,+BC3BT,mJAIA,MAAMhB,EAAe,CACnBgE,YAAa,KACbC,WAAY,MAGR/D,EAAa,CACjBgE,iBAAmB,mBACnBC,gBAAkB,kBAClBC,kBAAoB,qBAGhB/D,EAAgB,CACpBgE,eAAiBnC,IAAD,CACd1B,KAAMN,EAAWgE,iBACjBzD,QAASyB,IAGXoC,cAAgBpC,IAAD,CACb1B,KAAMN,EAAWiE,gBACjB1D,QAASyB,IAGXqC,gBAAiB,KAAM,CACrB/D,KAAMN,EAAWkE,kBACjB3D,QAAS,QAIPM,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAWgE,iBACd,OAAO5H,iBAAO0E,EAAO,CACnBgD,YAAa/C,EAAOR,UAExB,KAAKP,EAAWiE,gBAIhB,KAAKjE,EAAWkE,kBACd,OAAO9H,iBAAO0E,EAAO,CACnBiD,WAAYhD,EAAOR,UAIzB,OAAOO,I,sDChDT,MAAMwD,EACJpF,YAAYqF,GACVnF,KAAKmF,QAAUA,EAAO,QACtBnF,KAAKoF,KAAOD,EAAO,KACnBnF,KAAKC,GAAKkF,EAAO,GACjBnF,KAAKyD,OAAS0B,EAAO,OACrBnF,KAAKD,KAAO,CACVI,UAAWgF,EAAQpF,KAAR,WACXE,GAAIkF,EAAQpF,KAAR,GACJK,MAAO+E,EAAQpF,KAAR,OACPhF,KAAMoK,EAAQpF,KAAR,MAIV4D,QACE,MAAO,CACL,QAAW3D,KAAKmF,QAChB,KAAQnF,KAAKoF,KACb,GAAMpF,KAAKC,GACX,OAAUD,KAAKyD,OACf,KAAQ,CACN,WAAczD,KAAKD,KAAKI,UACxB,GAAMH,KAAKD,KAAKE,GAChB,OAAUD,KAAKD,KAAKK,MACpB,KAAQJ,KAAKD,KAAKhF,OAKxB,oBAAoBoK,GAClB,OAAO,IAAID,EAAQC,GAGrB,qBAAqBE,GACnB,OAAOA,EAASxB,IAAIqB,EAAQI,eAIjBJ,Q,gBCtCf,2KAUA,MAAMxE,EAAe,CACnBkD,OAAQ,GACRyB,SAAU,GACVE,aAAc,GACdC,YAAY,GAGR5E,EAAa,CACjB6E,YAAc,cACdC,mBAAqB,qBACrBC,cAAgB,gBAChBC,YAAc,cACdC,gBAAkB,mBAGd9E,EAAgB,CACpB+E,WAAalC,IACJ,CACL1C,KAAMN,EAAW6E,YACjBtE,QAASyC,IAGbmC,iBAAmBnC,IACV,CACL1C,KAAMN,EAAW8E,mBACjBvE,QAASyC,IAGboC,aAAeX,IACN,CACLnE,KAAMN,EAAW+E,cACjBxE,QAASkE,IAGbG,WAAY,KACH,CACLtE,KAAMN,EAAWgF,YACjBzE,SAAS,IAGb8E,eAAiBZ,IACR,CACLnE,KAAMN,EAAWiF,gBACjB1E,QAASkE,KAKTzD,EAAY,CAChBkE,WAAY,IAAM,CAACvE,EAAUO,EAAUC,IAC9BA,EAAI3G,IAAK,WACb4G,KAAMV,IACL,MAAMsC,EAASjB,IAAMuD,YAAY5E,EAAS5I,MAC1C6I,EAASR,EAAc+E,WAAWlC,IAClCrC,EAASR,EAAcyE,cACD,IAAlB5B,EAAO1K,QACTqI,EAAS4E,gBAAW1B,eAAeb,EAAO,GAAGd,KAAK/H,SAI1DgL,iBAAkB,IAAM,CAACxE,EAAUO,EAAUC,KAC3C,MAAMqE,EAAW,WAAUtE,IAAWtF,IAAUG,OAAO+H,YAAYzE,YAEnE,OAAO8B,EAAI3G,IAAIgL,GACZpE,KAAMV,IACL,MAAMsC,EAASjB,IAAMuD,YAAY5E,EAAS5I,MAC1C6I,EAASR,EAAcgF,iBAAiBnC,OAG9CoC,aAAc,IAAM,CAACzE,EAAUO,EAAUC,KACvC,MAAMqE,EAAW,aAAYtE,IAAWtF,IAAUG,OAAO+H,YAAYzE,KACrE,OAAO8B,EAAI3G,IAAIgL,GACZpE,KAAMV,IACL,MAAM+D,EAAWH,EAAQmB,cAAc/E,EAAS5I,MAChD6I,EAASR,EAAciF,aAAaX,OAG1CY,eAAiBd,GAAY,CAAC5D,EAAUO,EAAUC,KAChD,MAAMqE,EAAW,aAAYtE,IAAWtF,IAAUG,OAAO+H,YAAYzE,KAErE,OAAO8B,EAAIM,KAAK+D,EAAS,CACvB3C,OAAQ0B,EAAQ1B,OAChB0B,QAASA,EAAQmB,OAEhBtE,KAAMV,IACL,MAAM+D,EAAWH,EAAQmB,cAAc/E,EAAS5I,MAChD6I,EAASR,EAAckF,eAAeZ,QAKxC5D,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAW6E,YACd,OAAOzI,iBAAO0E,EAAO,CACnBkC,OAAQjC,EAAOR,UAEnB,KAAKP,EAAW+E,cACd,OAAO3I,iBAAO0E,EAAO,CACnB2D,SAAU1D,EAAOR,UAErB,KAAKP,EAAW8E,mBACd,OAAO1I,iBAAO0E,EAAO,CACnB6D,aAAc5D,EAAOR,UAEzB,KAAKP,EAAWgF,YACd,OAAO5I,iBAAO0E,EAAO,CACnB8D,WAAY7D,EAAOR,UAEvB,KAAKP,EAAWiF,gBACd,OAAO7I,iBAAO0E,EAAO,CACnB2D,SAAU1D,EAAOR,UAIvB,OAAOO,I,+BC7HT,qXAWA,MAAMqC,EAAavH,IAAUC,KAMvB8J,EAAe7E,GACZA,EAAMqC,GAAYsB,SAGrBmB,EAAa9E,GACVA,EAAMqC,GAAYH,OAGrB6C,EAAmB/E,GAChBA,EAAMqC,GAAYwB,aAGrBmB,EAAiBhF,GACdA,EAAMqC,GAAYyB,WAGrBmB,EAAeC,YACjBJ,EACC5C,IACC,MAAMiD,EAAYjD,EACfC,IAAKjB,GAAUA,EAAME,KAAK/H,MAC7B,OAAOqC,yBAAeyJ,KAItBC,EAAuBF,YACzBJ,EA9BoB9E,GACfA,EAAMlF,IAAUE,MAAM6H,YAgC3B,CAACX,EAAQW,IACAX,EACJmD,OAAQnE,GAAUA,EAAME,KAAK/H,OAASwJ,IAIzCyC,EAA0BJ,YAC5BL,EACClB,GAAaA,EACX9I,MAAM,CAAC0K,EAAYC,IAAe,IAAIC,KAAKD,EAAW9B,MAAQ,IAAI+B,KAAKF,EAAW7B,QAGnFgC,EAAoBR,YACtBI,EACC3B,GAAaA,EAAS9I,MAAM,EAAGqD,sBAG9ByH,EAAmBT,YACrBL,EACClB,GAAaA,EAASnM,S,6BCjE3B,oGAEA,MAAM6K,EAFN,KAEmBvH,EAAUG,MAEvB2K,EAAkB5F,GACfA,EAAMqC,GAAYW,YAGrB6C,EAAiB7F,GACdA,EAAMqC,GAAYY,Y,6BCT3B,4MAMA,MAAMjE,EAAe,CACnB8G,UAAW,IAGP5G,EAAa,CACjB6G,aAAe,eACfC,eAAiB,iBACjBC,gBAAkB,mBAGd5G,EAAgB,CACpB6G,YAAcC,IAAD,CACX3G,KAAMN,EAAW6G,aACjBtG,QAAS0G,IAEXC,cAAgBC,IAAD,CACb7G,KAAMN,EAAW8G,eACjBvG,QAAS4G,IAEXC,eAAiBH,IAAD,CACd3G,KAAMN,EAAW+G,gBACjBxG,QAAS0G,KAIPjG,EAAY,CAChBgG,YAAa,IAAM,CAACrG,EAAUO,EAAUC,KAEtC,IAAI9B,EAOJ,OALEA,EAD6C,OAA3C6B,IAAWtF,IAAUG,OAAOgI,WACzB7C,IAAWtF,IAAUG,OAAOgI,WAAW1E,GAEvC6B,IAAWtF,IAAUG,OAAO+H,YAAYzE,GAGxC8B,EAAIM,KAAM,aAAYpC,QAAgB,CAC3C,SAAYA,EACZ,OAVa,KAYZ+B,KAAMV,IACL,MAAMuG,EAAgBlF,IAAMmB,WAAWxC,EAAS5I,MAChD6I,EAASR,EAAc6G,YAAYC,OAIzCC,cAAe,IAAM,CAACvG,EAAUO,EAAUC,IACjCA,EAAI3G,IAAK,aACb4G,KAAMV,IACL,MAAMyG,EAAiBpF,IAAMuD,YAAY5E,EAAS5I,MAClD6I,EAASR,EAAc+G,cAAcC,MAI3CC,eAAgB,IAAM,CAACzG,EAAUO,EAAUC,KAEzC,IAAI9B,EAOJ,OALEA,EAD6C,OAA3C6B,IAAWtF,IAAUG,OAAOgI,WACzB7C,IAAWtF,IAAUG,OAAOgI,WAAW1E,GAEvC6B,IAAWtF,IAAUG,OAAO+H,YAAYzE,GAGxC8B,EAAIM,KAAM,aAAYpC,MAAgB,CAC3C,SAAYA,EACZ,OAVa,IAYZ+B,KAAMV,IACL,MAAMuG,EAAgBlF,IAAMmB,WAAWxC,EAAS5I,MAChD6I,EAASR,EAAciH,eAAeH,QAKxCpG,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAW8G,eACd,OAAO1K,iBAAO0E,EAAO,CACnB8F,UAAW7F,EAAOR,UAEtB,KAAKP,EAAW6G,aACd,OAAOzK,iBAAO0E,EAAO,CACnB8F,UAAW,CAAC7F,EAAOR,WAAYO,EAAM8F,aAEzC,KAAK5G,EAAW+G,gBACd,OAAO3K,iBAAO0E,EAAO,CACnB8F,UAAW9F,EAAM8F,UACdT,OAAQnE,GAAUA,EAAM3C,KAAO0B,EAAOR,QAAQlB,MAErD,QACE,OAAOyB,K,6BC/Fb,mJAOA,MAAMhB,EAAe,CACnBuH,YARF,KAQepJ,SAASC,SAGlB8B,EAAa,CACjBsH,iBAAmB,oBAGfnH,EAAgB,CACpBoH,eAAiBC,IAAD,CACdlH,KAAMN,EAAWsH,iBACjB/G,QAASiH,KAIP3G,EAAU,CAACC,EAAQhB,EAAciB,KACrC,OAAQA,EAAOT,MACb,KAAKN,EAAWsH,iBACd,OAAOlL,iBAAO0E,EAAO,CACnBuG,YAAatG,EAAOR,UAI1B,OAAOO,I,kCC9BT,kLAQA,MAAMqC,EAAavH,IAAUM,SAEvBuL,EAAgB3G,GAAUA,EAAMqC,GAAYyD,UAE5Cc,EAAgB,CAAC5G,EAAOzB,IACrByB,EAAMqC,GACVyD,UACAe,KAAM3F,GAAUA,EAAM3C,KAAOA,GAG5BuI,EAAwB5B,YAC1ByB,EACCb,GAAcpK,yBAAeoK,EAC3B3D,IAAK4E,GAAaA,EAAS3F,KAAK/H,S,8ECrBvC,aAIA,QA4BA,UAnB+B2N,IAC7B,MAAM,UACJC,EAAS,SACTC,EAAQ,OACRC,EAAM,KACN9I,GACE2I,EAEJ,OACE,uBAAKC,UAAW,QAAQA,KACrB,gBAAC,UAAM,CACNE,OAAQA,EACR9I,KAAMA,IAEP6I,K,8EC3BP,aACA,OAGA,OAMA,QACA,QAuFA,UA9EoCF,IAClC,MAAM,iBACJI,EAAgB,MAChBlG,EAAK,aACLmG,EAAY,aACZC,GACEN,GAEE,GACJzI,EAAE,UACFmD,EAAS,aACTG,EAAY,MACZC,EAAK,OACLC,EAAM,MACNC,EAAK,KACLxC,GACE0B,EAEJ,OACE,2BACE+F,UAAW,GAAGG,2BACdC,aAAc,KACZA,EAAanG,IAEfoG,aAAc,KACZA,MAGA5F,GAAa0F,IAAqB,mBAAUtK,WAC5C,uBAAKmK,UAAU,oBACb,wCAKJ,uBAAKA,UAAU,mDACb,qBAAGM,KAAK,KACN,uBACEN,UAAU,oBACVO,IAAK3F,EACL4F,MAAOL,IAAqB,mBAAUtK,UAAY,IAAM,IACxD4K,OAAQN,IAAqB,mBAAUtK,UAAY,IAAM,IACzD6K,IAAI,kBAIV,uBAAKV,UAAU,oBACb,uBAAKA,UAAU,6BACb,uBAAKA,UAAU,qBACb,qBAAGA,UAAU,2B,IACVnF,GAEH,wBAAMmF,UAAU,0BAAwB,YAE1C,gBAAC,UAAc,CACbG,iBAAkBA,EAClB7I,GAAIA,EACJmJ,OAAQ,GACRD,MAAO,MAGX,gBAAC,UAAM,CACLL,iBAAkB,mBAAUzK,WAC5BoF,OAAQA,IAEV,sBACEkF,UAAU,oBAEV,gBAAC,EAAAW,KAAI,CAACC,GAAI,UAAUtJ,KAAOyD,IAE7B,qBAAGiF,UAAU,oBACVzH,O,8EC3FX,aACA,OAGA,OAGA,QAGA,OAGA,QAGA,QAGA,OAcA,MAAMsI,UAAuBC,EAAMC,cACjC,YAAYhB,GACViB,MAAMjB,GACN1I,KAAK4J,gBAAkB5J,KAAK4J,gBAAgB7N,KAAKiE,MAGnD,kBACE,MAAM,GACJC,EAAE,WACFkD,EAAU,gBACV0G,GACE7J,KAAK0I,MAETmB,EAAgB5J,EAAIkD,GAGtB,SACE,MAAM,WACJ2G,EAAU,iBACVhB,EAAgB,WAChB3F,EAAU,OACViG,EAAM,MACND,GACEnJ,KAAK0I,MAEHG,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAC5CuJ,EAAgB5G,EAAa,sCAAwC,GAE3E,OACE,gBAACsG,EAAMO,SAAQ,KACZnB,GACC,0BACEF,UAAW,GAAGG,6BAA4CiB,IAC1D7I,KAAK,SACL+I,QAASjK,KAAK4J,iBAEd,uBAAKjB,UAAW,4BACdQ,MAAOA,EACPC,OAAQA,GAER,uBAAKc,UAAU,oBAEjB,wBAAMvB,UAAU,mBAAiB,iBAGpCE,GACC,gBAAC,EAAAS,KAAI,CAACC,GAAI,EAAA7L,SAASE,MAAO+K,UAAW,GAAGG,6BACtC,uBAAKH,UAAW,4BACdQ,MAAOA,EACPC,OAAQA,GAER,uBAAKc,UAAU,oBAEjB,wBAAMvB,UAAU,mBAAiB,mBAwB3C,EAAAa,iBAGF,UAAe,EAAAW,QAnBS,CAACzI,EAAOgH,KAAU,CACxCoB,WAAY,EAAA9F,uBAAuBtC,GACnCyB,WAAY,EAAAmF,cAAc5G,EAAOgH,EAAMzI,MAGbsB,IAAa,CACvC,gBAAgBtB,EAAIkD,GAEhB5B,EADE4B,EACO,YAAkB6E,eAAe/H,GAEjC,YAAkB2H,YAAY3H,OAS9B,CAA6CuJ,I,8ECjH5D,aACA,OAiCA,UAvBiCd,IAC/B,MAAM,iBACJI,EAAgB,OAChBrF,GACEiF,EAEE0B,EAAmBC,KAAKC,MAAM7G,GAAU,EAAAhE,SAE9C,OACE,uBAAKkJ,UAAW,GAAGG,oBACjB,uBAAKH,UAAW,GAAGG,0BACjB,wBAAMyB,MAAO,CAACpB,MAAO,GAAGiB,QACxB,wBAAMzB,UAAU,mBAAiB,WAElCG,IAAqB,EAAAhL,iBAAiBM,UACrC,wBAAMuK,UAAW,GAAGG,iCACjBrF,M,8EC3BX,aA8DA,UA3CmB+G,IAKjB,MAAMC,UAAkBhB,EAAMC,cAC5B,YAAYhB,GACViB,MAAMjB,GACN1I,KAAK0B,MAAQ,CACXgJ,WAAW,GAEb1K,KAAK2K,kBAAoB3K,KAAK2K,kBAAkB5O,KAAKiE,MACrDA,KAAK4K,kBAAoB5K,KAAK4K,kBAAkB7O,KAAKiE,MAGvD,kBAAkB6K,GAChB7K,KAAK8K,SAAS,CACZJ,WAAW,IAEb1K,KAAK0I,MAAMqC,YAAYF,GAGzB,oBACE7K,KAAK8K,SAAS,CACZJ,WAAW,IAEb1K,KAAK0I,MAAMsC,cAGb,SACE,OACE,gBAACR,EAAS,iBACJxK,KAAK0I,MAAK,CACdK,aAAc/I,KAAK2K,kBACnB3B,aAAchJ,KAAK4K,sBAM3B,OAAOH,I,8EC3DT,aACA,QAKA,OAWA,MAAMQ,UAAYxB,EAAMC,cAQtB,YAAYhB,GACViB,MAAMjB,GACN1I,KAAKkL,QAAUzB,EAAM0B,YACrBnL,KAAKoL,UAAOC,EACZrL,KAAKsL,SAAW,GAChBtL,KAAKuL,YAAcC,EAAQC,KAAK,CAC9BC,QAAS,wBACTC,SAAU,CAAC,GAAI,MAEjB3L,KAAK4L,aAAeJ,EAAQC,KAAK,CAC/BC,QAAS,iBACTC,SAAU,CAAC,GAAI,MAEjB3L,KAAK6L,kBAAoBL,EAAQC,KAAK,CACpCC,QAAS,+BACTC,SAAU,CAAC,GAAI,MAInB,oBAEE,GADe3L,KAAKkL,QAAQY,QAChB,CACV,MAAM,kBACJC,EAAiB,iBACjBjD,EAAgB,uBAChBkD,GACEhM,KAAK0I,MAEHuD,EAAcjM,KAAKkM,gBAAgBH,GAEzC/L,KAAKmM,gBAELX,EACGY,UAAU,2EAA4E,CACrFC,YAAa,6KAIdC,MAAMtM,KAAKoL,MAEdpL,KAAKsL,SAAWW,EAAYpI,IAAK0I,GAC/Bf,EACCgB,OAAOD,EAAkB,CAACd,KAAMzL,KAAK4L,eACrCU,MAAMtM,KAAKoL,OAGVtC,IAAqB,EAAAhL,iBAAiBK,cACxC6B,KAAKsL,SAAS9R,KAAKgS,EAClBgB,OAAOR,EAAwB,CAACP,KAAMzL,KAAK6L,oBAC3CS,MAAMtM,KAAKoL,QAKlB,qBACE,MAAM,WACJzG,EAAU,kBACVoH,EAAiB,iBACjBjD,EAAgB,uBAChBkD,GACEhM,KAAK0I,MAEH+D,EAAezM,KAAK0M,0BAA0BX,GAMpD,GAJA/L,KAAKoL,KAAKuB,QAAQF,EAAcA,EAAaG,MAE7C5M,KAAK6M,gBAEc,OAAflI,EAAqB,CACvB,MAAMmI,EAAsB9M,KAAK+M,sBAAsBhB,GACjDiB,EAAiBrI,EAAW1E,GAClCD,KAAKsL,SAAWwB,EAAoBjJ,IAAK0I,GACnCA,EAAiBtM,KAAO+M,EACnBxB,EACJgB,OAAOD,EAAkB,CAACd,KAAMzL,KAAK4L,eACrCU,MAAMtM,KAAKoL,MAEPI,EACJgB,OAAOD,EAAkB,CAACd,KAAMzL,KAAKuL,cACrCe,MAAMtM,KAAKoL,YAIb,GAAmB,OAAfzG,EAAqB,CAC9B,MAAMsH,EAAcjM,KAAKkM,gBAAgBH,GACzC/L,KAAKsL,SAAWW,EAAYpI,IAAKoJ,GAC/BzB,EACGgB,OAAOS,EAAY,CAACxB,KAAMzL,KAAK4L,eAC/BU,MAAMtM,KAAKoL,OAIdtC,IAAqB,EAAAhL,iBAAiBK,cACxC6B,KAAKsL,SAAS9R,KAAKgS,EAClBgB,OAAOR,EAAwB,CAACP,KAAMzL,KAAK6L,oBAC3CS,MAAMtM,KAAKoL,OAIhB,uBACEpL,KAAKoL,KAAO,KAGd,gBAAgBW,GACd,OAAOA,EACJlI,IAAKjB,IAAU,CACdsK,IAAKtK,EAAMS,SAAS8J,SACpBC,IAAKxK,EAAMS,SAASgK,aAI1B,sBAAsBtB,GACpB,OAAOA,EACJlI,IAAKjB,IAAU,CACdsK,IAAKtK,EAAMS,SAAS8J,SACpBC,IAAKxK,EAAMS,SAASgK,UACpBpN,GAAI2C,EAAM3C,MAIhB,0BAA0B8L,GACxB,MAAO,CACLmB,IAAKnB,EAAkB,GAAGjJ,KAAKO,SAAS8J,SACxCC,IAAKrB,EAAkB,GAAGjJ,KAAKO,SAASgK,UACxCT,KAAMb,EAAkB,GAAGjJ,KAAKO,SAASuJ,MAI7C,gBACE,MAAM,kBACJb,GACE/L,KAAK0I,MAEH+D,EAAezM,KAAK0M,0BAA0BX,GAEpD/L,KAAKoL,KAAOI,EAAQ3H,IAAI7D,KAAKkL,QAAQY,QAAS,CAC5CwB,OAAQb,EACRG,KAAMH,EAAaG,KACnBW,aAAa,EACbf,QAAQ,IAIZ,qBACwBnB,IAAlBrL,KAAKsL,UACPtL,KAAKsL,SAASkC,QAAShB,GAAWxM,KAAKoL,KAAKqC,YAAYjB,IAI5D,SACE,MAAM,iBACJ1D,GACE9I,KAAK0I,MAET,OACE,2BAASgF,IAAK1N,KAAKkL,QAASvC,UAAW,OAAOG,OAMpD,UAAemC,G,8EC1Lf,aACA,OAMA,QACA,QAaM0C,EAZN,MAY0B,QAAW,WA0DrC,UAxDiCjF,IAC/B,MAAM,iBACJI,EAAgB,kBAChBiD,EAAiB,YACjB9D,EAAW,YACX1D,EAAW,iBACXqJ,EAAgB,YAChB7C,EAAW,YACXC,GACEtC,EAEEmF,EAAmB9B,EAAkB7S,OAE3C,OACE,2BAASyP,UAAW,UAAUG,KAC3BA,IAAqB,EAAAhL,iBAAiBG,eACrC,gBAACwL,EAAMO,SAAQ,KACb,sBAAIrB,UAAU,mBAAiB,UAC/B,qBAAGA,UAAU,iBAETkF,E,sBAEAtJ,GAGH,gBAACoJ,EAAiB,CACjB1F,YAAaA,EACb2F,iBAAkBA,IAEnB,gBAAC,UAAc,CACd9E,iBAAkB,EAAAhL,iBAAiBI,mBACnC6N,kBAAmBA,EACnB9D,YAAaA,EACb8C,YAAaA,EACbC,YAAaA,KAKlBlC,IAAqB,EAAAhL,iBAAiBQ,aACrC,gBAACmL,EAAMO,SAAQ,KACb,sBAAIrB,UAAU,sBAAoB,qCAEjC,gBAAC,UAAc,CACdG,iBAAkB,EAAAhL,iBAAiBS,iBACnCwN,kBAAmBA,EACnB9D,YAAaA,EACb8C,YAAaA,EACbC,YAAaA,Q,yFCvEzB,aACA,QACA,QAIA,OAGA,QAGA,QACA,QACA,QACA,QAIA,QAGA,OAUMjJ,EAAM,EAAA+L,UAJW,KACrBC,EAAMxM,SAAS,EAAAR,cAAcC,qBAAqB,EAAAT,oBAAoBE,YAKlEsN,EAAQ,EAAAC,YACV,UACA,EAAAC,oBACI,EAAAC,gBAAgB,UAAMC,kBAAkBpM,MAIhDgM,EAAMxM,SAAS,YAAcuE,cAC7BiI,EAAMxM,SAAS,YAAcM,aAE7BuM,EAASC,OACL,gBAAC,EAAAC,SAAQ,CAACP,MACRA,GAEA,gBAAC,UAAG,OAENQ,SAASC,cAAc,W,wFClD3B,aACA,OAGA,OAIA,QAGA,OAIA,QAGA,QAGA,QAGA,QAMA,QAGA,QAGA,QAMA,OAGA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QAkBMC,EAAmB,UAAiB,WACpCC,EAAe,UAAiB,WAChCC,EAAc,UAAiB,WAC/BC,EAAkB,UAAiB,WAEnCC,EAAwBnG,IAC5B,MAAM,WACJoB,EAAU,YACVvF,EAAW,YACX0D,EAAW,kBACX8D,EAAiB,WACjBpH,EAAU,UACVkC,EAAS,WACTrB,EAAU,OACV5B,EAAM,YACNmH,EAAW,YACXC,EAAW,aACX8D,EAAY,eACZC,EAAc,OACd5M,GACEuG,EAEEsG,EAAoBxJ,EACpByJ,EAAyC,IAAlBrL,EAAO1K,OAC9B2P,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAoBlD,OACE,gBAAC,EAAA0O,cAAa,KACZ,gBAAC,EAAAC,OAAM,KACL,gBAAC,UAAa,CACZC,OAAK,EACLC,KAAM,EAAA3R,SAASC,KACf2R,UAvBFN,GAAqBC,EAChB,gBAAC,UAAkB,MAEnB,gBAACN,EAAW,CACjBpK,YAAaA,EACbwH,kBAAmBA,EACnB9D,YAAaA,EACbtD,WAAYA,EACZkC,UAAWA,EACXkE,YAAaA,EACbC,YAAaA,EACb8D,aAAcA,EACdC,eAAgBA,MAahB,gBAAC,UAAa,CACZK,OAAK,EACLC,KAAM,EAAA3R,SAASE,MACf0R,UACE,gBAACZ,EAAY,CACXnK,YAAaA,EACbsE,OAAQA,EACRiG,aAAcA,EACdC,eAAgBA,EAChB5M,OAAQA,MAId,gBAAC,UAAa,CACZiN,OAAK,EACLC,KAAM,EAAA3R,SAASf,MACf2S,UACE,gBAACV,EAAe,CACd3G,YAAaA,EACbtD,WAAYA,EACZoG,YAAaA,EACbC,YAAaA,EACb8D,aAAcA,EACdC,eAAgBA,MAItB,gBAAC,UAAY,CACXK,OAAK,EACLC,KAAM,EAAA3R,SAASZ,SACfuR,OAAQ,IACN,gBAACI,EAAgB,CACf1D,YAAaA,EACbC,YAAaA,EACb8D,aAAcA,EACdC,eAAgBA,EAChBxK,YAAaA,MAInB,gBAAC,UAAa,CACZ6K,OAAK,EACLC,KAAM,EAAA3R,SAASG,UACfyR,UACE,gBAAC,UAAY,WAoCvB,EAAAT,MAEF,UAAe,EAAA1E,QA9BUzI,IAAU,CACjCoI,WAAY,EAAA9F,uBAAuBtC,GACnCiD,WAAY,EAAA4C,cAAc7F,GAC1B6C,YAAa,EAAAgL,eAAe7N,GAC5BuG,YAAa,EAAAuH,eAAe9N,GAC5BqK,kBAAmB,EAAAjF,qBAAqBpF,GACxCkC,OAAQ,EAAA4C,UAAU9E,GAClBmF,UAAW,EAAAF,aAAajF,GACxB8D,WAAY,EAAAkB,cAAchF,GAC1BqN,eAAgB,EAAAU,sBAAsB/N,KAGZH,IAAa,CACvC,YAAYqB,GACVrB,EAAS,gBAAYyD,cAAcpC,KAErC,cACErB,EAAS,gBAAY0D,oBAEvB,eACE1D,EAAS,gBAAoB+C,4BAE/B,OAAOlC,GACLb,EAAS,YAAcY,OAAOC,OAOnB,CAA6CyM,I,8BC7M5D,6DAEA,MAAM9K,EAFN,KAEmBvH,EAAUO,SAEvB0S,EAAyB/N,GAAUA,EAAMqC,GAAYG,oB,6BCJ3D,iEAEA,MAAMqL,EAAkB7N,GACfA,EAAMlF,IAAUE,MAAM6H,a,6BCH/B,sDAEA,MAAMR,EAFN,KAEmBvH,EAAUI,KAEvB4S,EAAkB9N,GACfA,EAAMqC,GAAYkE,a,8ECL3B,aACA,QA6CA,UA3C0BuC,IAGxB,MAAMkF,UAAyBjG,EAAMC,cACnC,aAAaqF,GACX,GAAuB,OAAnBA,EACF,OAAO,EAMT,MAAoB,MAHAA,EACjBY,WAAW,GAShB,SACE,MAAM,aACJb,EAAY,eACZC,GACE/O,KAAK0I,MAET,OACE,gBAACe,EAAMO,SAAQ,KACZhK,KAAK4P,aAAab,IAAmB,gBAAC,UAAY,CACjDc,UAAWd,EACXD,aAAcA,IAEf9O,KAAK4P,aAAab,IAAmB,GACtC,gBAACvE,EAAS,iBACJxK,KAAK0I,UAOnB,OAAOgH,I,8EC3CT,aAcMI,EAAmB,CACvBC,aAAc,CACZC,SAAU,QACVC,IAAK,KACLC,MAAO,MACPC,KAAM,MACNC,OAAQ,GACRjH,MAAO,QACPkH,MAAO,UACPC,QAAS,OACTC,gBAAiB,0BACjBC,aAAc,OAEhBC,OAAQ,CACNC,cAAe,QAEjBC,YAAa,CACXX,SAAU,WACVC,IAAK,MACLC,MAAO,MACPE,OAAQ,GACRjH,MAAO,OACPC,OAAQ,OACRkH,QAAS,OACTD,MAAO,UACPO,eAAgB,OAChBC,gBAAiB,uBACjBC,mBAAoB,SACpBC,iBAAkB,cAItB,MAAMC,UAAqBvH,EAAMC,cAC/B,YAAYhB,GACViB,MAAMjB,GACN1I,KAAKiR,cAAgBjR,KAAKiR,cAAclV,KAAKiE,MAC7CA,KAAKkR,oBAAsBlR,KAAKkR,oBAAoBnV,KAAKiE,MAG3D,oBACEuO,SAAS4C,iBAAiB,UAAWnR,KAAKiR,eAG5C,uBACE1C,SAAS6C,oBAAoB,UAAWpR,KAAKiR,eAG/C,sBACEjR,KAAK0I,MAAMoG,eAGb,cAAcuC,GACI,WAAZA,EAAIvV,KAAgC,QAAZuV,EAAIvV,KAC9BkE,KAAK0I,MAAMoG,eAIf,SACE,MAAM,UACJe,GACE7P,KAAK0I,MAET,OACE,uBACEC,UAAU,gBACV4B,MAAOuF,EAAOC,cAEd,uBAAKpH,UAAU,wBACb4B,MAAOuF,EAAOW,QAEd,yB,eAAgBZ,IAElB,uBAAKlH,UAAU,iBACb,mDAEF,0BACEA,UAAU,wBACV4B,MAAOuF,EAAOa,YACd1G,QAASjK,KAAKkR,wBAMxB,UAAeF,G,8EClGf,aACA,OAOA,QAIA,QAIA,OAGA,QACA,QACA,QAYA,MAAMM,UAAkB7H,EAAMC,cAC5B,YAAYhB,GACViB,MAAMjB,GAGR,uBACE,MAAM,UACJlB,GACExH,KAAK0I,MAIT,OAFqC,IAArBlB,EAAUtO,OAGjB,6CAEA,uBAIX,SACE,MAAM,WACJ4Q,EAAU,YACVvF,EAAW,UACXiD,EAAS,mBACT+J,EAAkB,YAClBxG,EAAW,YACXC,EAAW,KACXjL,GACEC,KAAK0I,MAEH8I,EAA+B,IAArBhK,EAAUtO,OACpB2P,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAElD,OACE,gBAAC,UAAI,CACHmI,UAAW3I,KAAKyR,uBAChB5I,OAAQA,EACR9I,KAAMA,GAEN,gBAAC0J,EAAMO,SAAQ,KACb,wBAAMrB,UAAW,oCAAoC6I,EAAU,8BAAgC,MAC7F,uBAAK7I,UAAU,uCACZ6I,GACC,gBAAC,UAAc,MAEhBA,GACC,gBAAC,UAAa,CACZjN,YAAaA,EACbiD,UAAWA,EACX+J,mBAAoBA,EACpBxG,YAAaA,EACbC,YAAaA,MAKrB,0BAAQrC,UAAU,oBAChB,qBAAGA,UAAU,oBAAoBM,KAAK,aACpC,uBACEN,UAAU,eACVO,IAAI,kBACJG,IAAI,gBACJF,MAAM,KACNC,OAAO,YAkBrB,EAAAkI,YAGF,UAAe,EAAAnH,QAXUzI,IAAU,CACjCoI,WAAY,EAAA9F,uBAAuBtC,GACnC8F,UAAW,EAAAa,aAAa3G,GACxB6P,mBAAoB,EAAA/I,sBAAsB9G,GAC1C3B,KAAM,EAAAkE,QAAQvC,KAOD,CAAyB4P,I,8ECrHxC,aACA,OAGA,OAOA,QAgDA,UAzCiC5I,IAC/B,MAAM,OACJG,EAAM,KACN9I,GACE2I,EAEJ,OACE,0BAAQC,UAAU,UAChB,uBAAKA,UAAU,aACb,uBAAKA,UAAU,mBACb,uBAAKA,UAAU,gBACb,gBAAC,UAAQ,OAEX,uBAAKA,UAAU,eACb,sBAAIA,UAAU,oBACZ,sBAAIA,UAAU,yBACXE,GACC,gBAAC,EAAAS,KAAI,CAACX,UAAU,6CACdY,GAAI,EAAA7L,SAASZ,UAEb,uBAAK6L,UAAU,8CACb4B,MAAO,CAACsG,gBAAiB,OAAO,EAAAlR,WAAWI,EAAKI,gBAElD,wBAAMwI,UAAU,gCAAgC5I,EAAKG,QAGxD2I,GACC,gBAAC,EAAAS,KAAI,CAACC,GAAI,EAAA7L,SAASE,MAAO+K,UAAU,8CAClC,uBAAKA,UAAU,gDACf,wBAAMA,UAAU,gCAA8B,oB,8EC/ClE,aACA,OAGA,OAYA,UARiB,IAEb,gBAAC,EAAAW,KAAI,CAACC,GAAI,EAAA7L,SAASC,KAAMgL,UAAU,+CACjC,uBAAKA,UAAU,eAAeO,IAAI,kBAAkBG,IAAI,gBAAgBF,MAAM,KAAKC,OAAO,S,8ECXhG,aAcA,UAZuB,IAEnB,2BAAST,UAAU,8BACjB,sBAAIA,UAAU,mBAAiB,qBAC/B,uBAAKA,UAAU,6BACb,qBAAGA,UAAU,qBAAmB,sBAChC,qBAAGA,UAAU,iCAA+B,sE,8ECRpD,aACA,OAMA,QAUA,MAAM+I,UAAsBjI,EAAMC,cAChC,YAAYhB,GACViB,MAAMjB,GAGR,sBAAsBX,EAAgB1E,GACpC,OAAO,EAAAjG,eACH2K,EACGhB,OAAQc,GAAkBA,EAAc/E,KAAK/H,OAASsI,IAI/D,SACE,MAAM,YACJkB,EAAW,UACXiD,EAAS,mBACT+J,EAAkB,YAClBxG,EAAW,YACXC,GACEhL,KAAK0I,MAET,OACE,2BAASC,UAAU,aACjB,sBAAIA,UAAU,oBAAkB,iBAGhC,sBAAIA,UAAU,mBACX4I,EAAmB1N,IAAI,CAACR,EAAUrK,IACjC,gBAAC,UAAY,CACX8J,KAAMO,EACNvH,IAAKuH,EACLsO,cAAepN,IAAgBlB,EAC/BO,OAAQ5D,KAAK4R,sBAAsBpK,EAAW+J,EAAmBvY,IACjE+R,YAAaA,EACbC,YAAaA,QAS3B,UAAe0G,G,8EC5Df,aAIA,OAGA,QAWMG,EAVN,MAUyB,QAAU,WAqCnC,UAnCuCnJ,IACrC,MAAM,KACJ5F,EAAI,OACJc,EAAM,cACN+N,EAAa,YACb5G,EAAW,YACXC,GACEtC,EAEJ,OACE,sBAAIC,UAAU,8BACZ,uBAAKA,UAAW,kCAAkCgJ,EAAgB,qBAAuB,MACvF,uBAAKhJ,UAAU,mBACb,qBAAGA,UAAU,uBAAuBM,KAAK,KACvC,4BACGnG,MAKT,uBAAK6F,UAAU,qBACZ/E,EAAOC,IAAKjB,GACX,gBAACiP,EAAgB,CACf/V,IAAK8G,EAAM3C,GACX6I,iBAAkB,EAAAhL,iBAAiBU,UACnCoE,MAAOA,EACPmI,YAAaA,EACbC,YAAaA,S,8EC/CzB,aACA,OAGA,OAGA,QACA,QAQM8G,EAAmB,UAAkB,WAyC3C,UAvCgCpJ,IAC9B,MAAM,YACJnE,EAAW,OACXsE,EAAM,OACN1G,GACEuG,EAEJ,OACE,gBAACe,EAAMO,SAAQ,KACZnB,GACC,gBAAC,EAAAkJ,SAAQ,CAACxI,GAAI,EAAA7L,SAASC,OAExBkL,GACC,wBAAMF,UAAU,gCACd,uBAAKA,UAAU,mCACb,2BAASA,UAAU,SACjB,sBAAIA,UAAU,gBAAc,WAG5B,gBAACmJ,EAAgB,CACf3P,OAAQA,KAGZ,2BAASwG,UAAU,iDACjB,uBAAKA,UAAU,mBACb,qBAAGA,UAAU,uBAAuBM,KAAK,KACvC,4BACG1E,W,8EC7CrB,aAiEA,UAjD2BiG,IAIzB,MAAMwH,UAA0BvI,EAAMC,cACpC,YAAYhB,GACViB,MAAMjB,GACN1I,KAAK0B,MAAQ,CACXY,MAAO,GACPC,SAAU,IAEZvC,KAAKiS,aAAejS,KAAKiS,aAAalW,KAAKiE,MAG7C,cAAa,cAACkS,IACZ,OAAQA,EAAcnX,MACpB,IAAK,QACHiF,KAAK8K,SAAS,CACZxI,MAAO4P,EAAc1W,QAEvB,MACF,IAAK,WACHwE,KAAK8K,SAAS,CACZvI,SAAU2P,EAAc1W,SAMhC,SACE,MAAM,MACJ8G,EAAK,SACLC,GACEvC,KAAK0B,MAET,OACE,gBAAC8I,EAAS,iBACJxK,KAAK0I,MAAK,CACdpG,MAAOA,EACPC,SAAUA,EACV4P,SAAUnS,KAAKiS,iBAMvB,OAAOD,I,8EC9DT,aACA,OAGA,QAcA,MAAMI,UAAkB3I,EAAMC,cAC5B,YAAYhB,GACViB,MAAMjB,GACN1I,KAAKqS,cAAgBrS,KAAKqS,cAActW,KAAKiE,MAG/C,cAAcqR,GACZA,EAAIiB,iBACJ,MAAM,MACJhQ,EAAK,SACLC,GACEvC,KAAK0I,MACT1I,KAAK0I,MAAMvG,OAAO,CAChBG,QACAC,aAIJ,SACE,MAAM,MACJD,EAAK,SACLC,EAAQ,SACR4P,GACEnS,KAAK0I,MAET,OACE,wBACEC,UAAU,mBACVhH,OAAO,IACP4Q,OAAO,OACPC,SAAUxS,KAAKqS,eAEf,uBAAK1J,UAAU,4CACb,yBAAOA,UAAU,mBAAiB,UAGlC,gBAAC,UAAU,CACTwJ,SAAUA,EACVjR,KAAM,EAAAhC,eAAeC,MACrB3D,MAAO8G,KAGX,uBAAKqG,UAAU,4CACb,yBAAOA,UAAU,mBAAiB,YAGlC,gBAAC,UAAU,CACTwJ,SAAUA,EACVjR,KAAM,EAAAhC,eAAeE,SACrB5D,MAAO+G,KAGX,0BACEoG,UAAU,oCACVzH,KAAK,UAAQ,aASvB,UAAekR,G,8ECjFf,aACA,OA+BA,UArBqC1J,IACnC,MAAM,SACJyJ,EAAQ,KACRjR,EAAI,MACJ1F,GACEkN,EAEE+J,EAAcvR,IAAS,EAAAhC,eAAeC,MAAQ,QAAU,WAE9D,OACE,yBAAOwJ,UAAU,2BACfzH,KAAMA,EACNnG,KAAMmG,EACNwR,YAAaD,EACbjX,MAAOA,EACP2W,SAAUA,EACVQ,UAAQ,M,8EC3Bd,aACA,OAMA,QAGA,QAGA,QACA,QAcA,MAAMC,UAAanJ,EAAMC,cACvB,YAAYhB,GACViB,MAAMjB,GAGR,SACE,MAAM,kBACJqD,EAAiB,YACjBxH,EAAW,YACX0D,EAAW,WACXtD,EAAU,oBACVkO,EAAmB,iBACnBjF,EAAgB,UAChB/G,EAAS,YACTkE,EAAW,YACXC,GACEhL,KAAK0I,MAIT,OAFgE,IAA7BqD,EAAkB7S,OAG5C,GAIP,wBAAMyP,UAAW,gCACf,sBAAIA,UAAU,mBAAiB,UAC/B,gBAAC,UAAS,CACRpE,YAAaA,EACbsO,oBAAqBA,EACrBhM,UAAWA,IAEb,gBAAC,UAAM,CACLkF,kBAAmBA,EACnBpH,WAAYA,EACZJ,YAAaA,EACb0D,YAAaA,EACb2F,iBAAkBA,EAClB7C,YAAaA,EACbC,YAAaA,MAiBrB,EAAA4H,OAGF,UAAe,EAAAzI,QAAQ,KAbK5I,IAAa,CACvC,oBAAoB8B,GAClB9B,EAAS,gBAAWkD,eAAepB,KAErC,iBAAiB+E,GACf7G,EAAS,gBAAW4G,eAAeC,OAQxB,CAAkCwK,I,8ECvFjD,aAIA,OAGA,QACA,QA+CA,UAnCiClK,IAC/B,MAAM,kBACJqD,EAAiB,YACjB9D,EAAW,YACX1D,EAAW,WACXI,EAAU,iBACViJ,EAAgB,YAChB7C,EAAW,YACXC,GACEtC,EAEJ,OACE,uBAAKC,UAAU,UACb,uBAAKA,UAAU,sCACb,gBAAC,UAAM,CACLG,iBAAkB,EAAAhL,iBAAiBG,cACnCsG,YAAaA,EACbwH,kBAAmBA,EACnB9D,YAAaA,EACb2F,iBAAkBA,EAClB7C,YAAaA,EACbC,YAAaA,IAEf,uBAAKrC,UAAU,yBACb,gBAAC,UAAG,CACFG,iBAAkB,EAAAhL,iBAAiBE,WACnC+N,kBAAmBA,EACnBpH,WAAYA,S,+EC/CxB,aAIA,OAIA,QAWMkN,EAVN,MAUyB,QAAU,WAEnC,MAAMiB,UAAuBrJ,EAAMC,cACjC,YAAYhB,GACViB,MAAMjB,GAGR,UACE,MAAM,kBACJqD,EAAiB,YACjB9D,GACEjI,KAAK0I,MAET,OAAQT,GACN,KAAK,EAAApJ,SAASE,kBACZ,OAAOgN,EAAkBxP,QAAQ6L,KAAK,CAACnL,EAAGC,IAAMD,EAAEuG,MAAQtG,EAAEsG,OAC9D,KAAK,EAAA3E,SAASG,kBACZ,OAAO+M,EAAkBxP,QAAQ6L,KAAK,CAACnL,EAAGC,IAAMA,EAAEsG,MAAQvG,EAAEuG,OAC9D,KAAK,EAAA3E,SAASI,gBACZ,OAAO8M,EAAkBxP,QAAQ6L,KAAK,CAACnL,EAAGC,IAAMA,EAAEuG,OAASxG,EAAEwG,QAC/D,QACE,OAAOsI,GAIb,SACE,MAAM,iBACJjD,EAAgB,YAChBiC,EAAW,YACXC,GACEhL,KAAK0I,MAEHqK,EAAS/S,KAAKgT,UAAUnP,IAAKjB,GACjC,gBAACiP,EAAgB,CACf/I,iBAAkB,EAAAhL,iBAAiBC,OACnCjC,IAAK,GAAG8G,EAAM3C,KACd2C,MAAOA,EACPmI,YAAaA,EACbC,YAAaA,KAGjB,OACE,uBAAKrC,UAAW,gBAAgBG,KAE5BiK,IAOV,UAAeD,G,8ECtEf,aACA,OAyDA,UA9CqCpK,IACnC,MAAM,YACJT,EAAW,iBACX2F,EAAgB,SAChBqF,EAAQ,cACRC,GACExK,EAEJ,OACE,wBACEC,UAAU,kBACVhH,OAAO,IACP4Q,OAAO,MACPtI,QAASiJ,GAET,wBAAMvK,UAAU,2BAAyB,YACzC,wBAAMA,UAAU,uBAAuBwK,SAAU,GAE7ClL,EAEF,uBAAKU,UAAU,wBAAwBQ,MAAM,IAAIC,OAAO,KACtD,uBAAKc,UAAU,yBAGnB,sBAAIvB,UAAW,2CAA2CsK,EAAW,0BAA4B,MAI7F,EAAArU,QAAQiF,IAAKuE,GACXA,IAASH,GAAe,sBACtBU,UAAU,iBACV7M,IAAKsM,EACL+K,SAAU,EACVlJ,QAAS,KACP2D,EAAiBxF,KAGlBA,Q,8ECjDf,aAsDA,UAxCoBoC,IAIlB,MAAM4I,UAAmB3J,EAAMC,cAC7B,YAAYhB,GACViB,MAAMjB,GAEN1I,KAAK0B,MAAQ,CACXuR,UAAU,GAEZjT,KAAKqT,mBAAqBrT,KAAKqT,mBAAmBtX,KAAKiE,MAGzD,qBACEA,KAAK8K,SAAUpJ,IACN,CACLuR,UAAWvR,EAAMuR,YAKvB,SACE,MAAM,SACJA,GACEjT,KAAK0B,MAET,OACE,gBAAC8I,EAAS,iBACJxK,KAAK0I,MAAK,CACduK,SAAUA,EACVC,cAAelT,KAAKqT,uBAM5B,OAAOD,I,8ECnDT,aA8CA,UAtCoC1K,IAClC,MAAM,YACJnE,EAAW,UACXsC,EAAS,oBACTgM,GACEnK,EAEJ,OACE,uBAAKC,UAAU,QACb,2BAASA,UAAU,uBACjB,sBAAIA,UAAU,8BACX9B,EAAUhD,IAAKR,GACd,sBACEsF,UAAU,kBACV7M,IACEuH,EAEF4G,QAAS,KACP4I,EAAoBxP,KAGtB,qBAAGsF,UACD,mCAAmCtF,IAAakB,EAAc,qBAAuB,KAEvF0E,KAAK,KAEH,4BACG5F,W,8ECnCnB,aACA,OAGA,OAGA,QAKA,QAGA,QAGA,QAGA,OAOA,QACA,QACA,QACA,QACA,QAiBA,MAAMiQ,UAAiB7J,EAAMC,cAC3B,oBACE1J,KAAK0I,MAAM6K,qBAGb,oBAAmB,aAAChO,IACbA,GACHvF,KAAK0I,MAAM6K,qBAIf,SACE,MAAM,YACJ7O,EAAW,WACXoF,EAAU,YACV7B,EAAW,SACX5C,EAAQ,cACRmO,EAAa,WACb7O,EAAU,aACVY,EAAY,YACZwF,EAAW,gBACX0I,EAAe,YACfzI,EAAW,eACX+D,GACE/O,KAAK0I,MAIT,GAF0C,IAAxBnD,EAAarM,QAAgC,OAAhBwL,EAG7C,MAAO,GAGT,MAAM,SACJ7B,EAAQ,MACRG,EAAK,KACLC,EAAI,GACJhD,EAAE,OACFiD,EAAM,UACNE,EAAS,UACTE,EAAS,MACTE,EAAK,OACLC,EAAM,MACNC,EAAK,KACLxC,EAAI,SACJmC,GACEqB,EAEEgP,EAA2B,CAC/BxG,IAAK7J,EAAS8J,SACdC,IAAK/J,EAASgK,WAGVxE,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAElD,OACE,wBAAMmI,UAAU,mCACd,2BAASA,UAAU,YACjB,uBAAKA,UAAU,yCACb,uBAAKA,UAAU,qBACZzF,EAAOW,IAAI,CAAC8P,EAAK3a,IAChB,uBAAK8C,IAAK,GAAG9C,IAAI2a,IAAOhL,UAAU,2BAChC,uBAAKA,UAAU,kBAAkBO,IAAKyK,EAAKtK,IAAI,qBAKvD,uBAAKV,UAAU,iCACb,uBAAKA,UAAU,qBACZvF,GACC,uBAAKuF,UAAU,kBACb,wCAKJ,uBAAKA,UAAU,0BACb,sBAAIA,UAAU,kBACXjF,GAEH,gBAAC,UAAc,CACboF,iBAAkB,EAAAhL,iBAAiBM,SACnC6B,GAAIA,EACJmJ,OAAQ,GACRD,MAAO,MAGX,gBAAC,UAAM,CACLL,iBAAkB,EAAAhL,iBAAiBM,SACnCqF,OAAQA,IAEV,sBAAIkF,UAAU,sBACZ,sBAAIA,UAAU,+CACXzH,GAEH,sBAAIyH,UAAU,iDACX9F,E,aAEH,sBAAI8F,UAAU,+C,OACPrF,E,YAGT,uBAAKqF,UAAU,mBACb,qBAAGA,UAAU,yB,IACVnF,GAEH,wBAAMmF,UAAU,wBAAsB,WAExC,uBAAKA,UAAU,oBACb,sBAAIA,UAAU,0BAAwB,iBACtC,sBAAIA,UAAU,yBACX3F,EAAMa,IAAK+P,GACV,sBAAI9X,IAAK8X,EAAMjL,UAAU,yBACtBiL,MAKT,uBAAKjL,UAAU,kBACb,sBAAIA,UAAU,wBAAsB,iBACpC,uBAAKA,UAAU,4BACb,uBAAKA,UAAW,4BAA4B1F,EAAK7C,MAAQ,gCAAkC,2BACzF,uBAAKuI,UAAU,gCAAgCO,IAAK,MAAMjG,EAAK9C,YAAagJ,MAAM,KAAKC,OAAO,KAAKC,IAAI,iBAEzG,wBAAMV,UAAU,uBACb1F,EAAKlI,OAGV,uBAAK4N,UAAU,yBACb,qBAAGA,UAAU,qBAIhB,gBAAC,UAAO,CACPtD,SAAUA,EACVmO,cAAeA,EACf3K,OAAQA,EACR4K,gBAAiBA,EACjB1E,eAAgBA,MAIrB,gBAAC,UAAG,CACHjG,iBAAkB,EAAAhL,iBAAiBK,aACnC4N,kBAAmBxG,EACnBZ,WAAYA,EACZqH,uBAAwB0H,KAG5B,uBAAK/K,UAAU,aACZ,gBAAC,UAAM,CACNG,iBAAkB,EAAAhL,iBAAiBQ,YACnCyN,kBAAmBxG,EACnB0C,YAAaA,EACb8C,YAAaA,EACbC,YAAaA,OA2BvB,EAAAsI,WAGF,UAAe,EAAAnJ,QAtBUzI,IAAU,CACjCgD,YAAa,EAAA4C,eAAe5F,GAC5BoI,WAAY,EAAA9F,uBAAuBtC,GACnC2D,SAAU,EAAA+B,kBAAkB1F,GAC5B8R,cAAe,EAAAnM,iBAAiB3F,GAChC6D,aAAc,EAAAkB,gBAAgB/E,KAGJH,IAAa,CACvC,gBAAgB4D,GACd5D,EAAS,YAAc0E,eAAed,KAExC,qBACE5D,EAAS,YAAcyE,gBACvBzE,EAAS,YAAcwE,uBAQZ,CAA6CuN,I,8ECzO5D,aAIA,QACA,QAWMO,EAVN,MAU2B,QAAgB,WAgC3C,UA9BkCnL,IAChC,MAAM,SACJrD,EAAQ,cACRmO,EAAa,OACb3K,EAAM,gBACN4K,EAAe,eACf1E,GACErG,EAEJ,OACE,2BAASC,UAAU,6BACjB,sBAAIA,UAAU,kB,YACZ,wBAAMA,UAAU,mBACb6K,IAGJ,gBAAC,UAAW,CACXnO,SAAUA,IAEXwD,GACC,gBAACgL,EAAkB,CACjBL,cAAeA,EACfC,gBAAiBA,EACjB1E,eAAgBA,O,8ECzC1B,aAIA,QA0BA,UApBsCrG,IACpC,MAAM,SACJrD,GACEqD,EAEJ,OACE,sBAAIC,UAAU,iBACXtD,EACE9I,QACAuX,UACAjQ,IAAKsB,GACJ,gBAAC,UAAU,CACTrJ,IAAK,GAAGqJ,EAAQlF,KAChBkF,QAASA,Q,8ECvBrB,aAIA,OAQA,MAAM4O,UAAmBtK,EAAMC,cAC7B,YAAYhB,GACViB,MAAMjB,GAGR,SAAStD,GACP,MAAM4O,EAAuB,CAC3BC,MAAO,OACPC,KAAM,WAGR,MAAO,GACL,IAAI/M,KAAK/B,GACN+O,eAAe,QAASH,KAI/B,SACE,MAAM,QACJ7O,GACEnF,KAAK0I,OAEH,KACJtD,EAAI,OACJ3B,EAAM,KACN1D,GACEoF,EAEJ,OACE,sBAAIwD,UAAU,iBACZ,uBAAKA,UAAU,sBACb,uBAAKA,UAAU,gDACb,uBACEA,UAAU,+BACVO,IAAKnJ,EAAKI,UACVgJ,MAAM,KACNC,OAAO,KACPC,IAAI,oBAGR,wBAAMV,UAAU,sBACb5I,EAAKhF,OAGV,uBAAK4N,UAAU,iBACb,uBAAKA,UAAU,0BACb,uBAAKA,UAAU,gCACb,wBAAM4B,MAAO,CAACpB,MAAO,GAAG,EAAA1J,SAAWgE,QACnC,wBAAMkF,UAAU,mBAAiB,YAGrC,qBAAGA,UAAU,iBACVxD,EAAQA,SAEX,wBAAMwD,UAAU,gBAAgByL,SAAUhP,GACvCpF,KAAKqU,SAASjP,OAQ3B,UAAe2O,G,8EC3Ef,aACA,OAaA,MAAMO,UAAoB7K,EAAMC,cAI9B,YAAYhB,GACViB,MAAMjB,GACN1I,KAAKuU,iBAAmB9K,EAAM0B,YAC9BnL,KAAKwU,aAAe/K,EAAM0B,YAC1BnL,KAAKyU,oBAAsBzU,KAAKyU,oBAAoB1Y,KAAKiE,MACzDA,KAAK0U,uBAAyB1U,KAAK0U,uBAAuB3Y,KAAKiE,MAGjE,oBACEA,KAAKuU,iBAAiBzI,QAAQ6I,UAAW,EAG3C,mBAAmBC,GACjB5U,KAAK0U,uBAAuBE,GAC5B5U,KAAK6U,uBAGP,sBACE7U,KAAKuU,iBAAiBzI,QAAQ6I,UAAW,EACzC3U,KAAKwU,aAAa1I,QAAQ6I,UAAW,EAGvC,uBACE,MAAM,OACJlR,EAAM,QACN0B,GACEnF,KAAK0I,MAEM,IAAXjF,GAAgB0B,EAAQjM,QAAU,IAAMiM,EAAQjM,QAAU,IAC5D8G,KAAKuU,iBAAiBzI,QAAQ6I,UAAW,EAEzC3U,KAAKuU,iBAAiBzI,QAAQ6I,UAAW,EAI7C,uBAAuBC,GACrB,MAAM,eACJ7F,EAAc,cACdyE,GACEoB,GAEiB7F,IAAmB,EAAA1P,eAAeC,WAAgC,OAAnByP,IAEhDyE,EAAgBxT,KAAK0I,MAAM8K,gBAC7CxT,KAAKwU,aAAa1I,QAAQ6I,UAAW,GAIzC,SACE,MAAM,QACJxP,EAAO,SACPgN,EAAQ,SACRK,EAAQ,OACR/O,GACEzD,KAAK0I,MAET,OACE,wBACEC,UAAU,qBACVhH,OAAO,IACP4Q,OAAO,OACPC,SAAUA,GAEV,yBAAO7J,UAAU,6BAA6BmM,QAAQ,UAAQ,eAC9D,uBAAKnM,UAAU,qCACZ,EAAAjJ,MAAMmE,IAAKkR,GACV,gBAACtL,EAAMO,SAAQ,CAAClO,IAAK,GAAGiZ,WACtB,yBAAOpM,UAAU,qCACf5N,KAAK,SACLS,MAAOuZ,EACP9U,GAAI,GAAG8U,UACP7T,KAAK,QACL8T,QAASvR,IAAWsR,EACpB5C,SAAUA,IAEZ,yBACE2C,QAAS,GAAGC,UACZpM,UAAU,2CACVjF,MAAM,WACN,uBAAKiF,UAAU,mBAAmBQ,MAAM,KAAKC,OAAO,MAClD,uBAAKc,UAAU,oBAOzB,4BACEvB,UAAU,mCACV1I,GAAG,SACHlF,KAAK,SACL2X,YAAY,iEACZlX,MAAO2J,EACPgN,SAAUA,EACVzE,IAAK1N,KAAKwU,eAEZ,uBAAK7L,UAAU,2BACb,qBAAGA,UAAU,iB,2CAEX,wBAAMA,UAAU,iBAAe,U,uCAE/B,qBAAGA,UAAU,wBAAsB,iB,KAIrC,0BACEA,UAAU,sCACVzH,KAAK,SACL+I,QAASjK,KAAKyU,oBACd/G,IAAK1N,KAAKuU,kBAAgB,aAUtC,UAAeD,G,8ECzIf,aAkGA,UA5EyB9J,IAIvB,MAAMyK,UAAwBxL,EAAMC,cAClC,YAAYhB,GACViB,MAAMjB,GACN1I,KAAK0B,MAAQ,CACX+B,OAAQ,EACR0B,QAAS,IAEXnF,KAAKkV,cAAgBlV,KAAKkV,cAAcnZ,KAAKiE,MAC7CA,KAAKqS,cAAgBrS,KAAKqS,cAActW,KAAKiE,MAG/C,mBAAmB4U,GACbA,EAAUpB,cAAgBxT,KAAK0I,MAAM8K,eACvCxT,KAAK8K,SAAS,CACZrH,OAAQ,EACR0B,QAAS,KAKf,eAAc,cAAC+M,IACb,OAAQA,EAAcnX,MACpB,IAAK,SAIH,YAHAiF,KAAK8K,SAAS,CACZrH,OAAQ0R,SAASjD,EAAc1W,MAAO,MAG1C,IAAK,SACHwE,KAAK8K,SAAS,CACZ3F,QAAS+M,EAAc1W,SAK/B,cAAc6V,GACZA,EAAIiB,iBAEJ,MAAM,OACJ7O,EAAM,QACN0B,GACEnF,KAAK0B,OACH,gBACJ+R,GACEzT,KAAK0I,MAET+K,EAAgB,CACdhQ,SACA6C,KAAMnB,IAIV,SACE,MAAM,QACJA,EAAO,OACP1B,GACEzD,KAAK0B,MAET,OACE,gBAAC8I,EAAS,iBACJxK,KAAK0I,MAAK,CACdvD,QAASA,EACTgN,SAAUnS,KAAKkV,cACf1C,SAAUxS,KAAKqS,cACf5O,OAAQA,MAMhB,OAAOwR,I,8EC/FT,aACA,OAIA,OAGA,QAIA,QAIA,QAGA,OAGA,OAQA,QAGA,QAcA,MAAMG,UAAsB3L,EAAMC,cAChC,YAAYhB,GACViB,MAAMjB,GAGR,uBAAuB2M,GACrB,MAAM,cACJC,GACEtV,KAAK0I,MAEH6M,EAAqBD,EAAcE,KAAM5S,GAAUA,EAAM3C,KAAOoV,GACtErV,KAAK0I,MAAM+M,iBAAiBF,GAG9B,qBAAqBF,GACnB,MAAM,cACJC,GACEtV,KAAK0I,MAET,OAAQ4M,EAAcpc,QAAUmc,GAAyBK,MAAML,GAGjE,SACE,MAAM,YACJ3Q,EAAW,WACXoF,EAAU,UACVwF,EAAS,MACTF,EAAK,WACL5J,EAAU,KACV6J,EAAI,KACJtP,GACEC,KAAK0I,MAIT,IAFiC,IAAflD,EAGhB,MAAO,GAGT,MAAMqD,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAClD,IAAImI,EAEJ,OAAQ0G,GACN,KAAK,EAAA3R,SAASC,KACZgL,EAAY,EAAA7K,iBAAiBW,UAC7B,MACF,KAAK,EAAAf,SAASE,MACZ+K,EAAY,EAAA7K,iBAAiBY,WAC7B,MACF,KAAK,EAAAhB,SAASf,MACZgM,EAAY,EAAA7K,iBAAiBa,cAC7B,MACF,QACEgK,EAAY,EAAA7K,iBAAiBW,UAGjC,OACE,gBAAC,EAAAkX,MAAK,CACJtG,KAAMA,EACND,MAAOA,EACPf,OAASuH,IACP,GAAIvG,IAAS,EAAA3R,SAASf,MAAO,CAC3B,MAAM0Y,EAAwBF,SAASS,EAAYC,MAAMC,OAAO7V,GAAI,IAEpE,GAAID,KAAK+V,qBAAqBV,GAC5B,OACE,gBAAC,EAAAtD,SAAQ,CAACxI,GAAI,CACZyM,SAAU,EAAAtY,SAASG,UACnB6D,MAAO,CACLjE,KAAMmY,EAAYvS,aAMN,OAAhBqB,GAAwBA,EAAYzE,KAAOoV,GAC7CrV,KAAKiW,uBAAuBZ,GAIhC,OACE,gBAAC,UAAI,CACH1M,UAAWA,EACXE,OAAQA,EACR9I,KAAMA,GAELuP,OAwBb,EAAA8F,gBAGF,UAAe,EAAAjL,QAlBUzI,IAAU,CACjCoI,WAAY,EAAA9F,uBAAuBtC,GACnCgD,YAAa,EAAA4C,eAAe5F,GAC5B4T,cAAe,EAAA9O,UAAU9E,GACzB8D,WAAY,EAAAkB,cAAchF,GAC1B3B,KAAM,EAAAkE,QAAQvC,KAGYH,IAAa,CACvC,iBAAiBqB,GACfrB,EAAS,gBAAYwD,eAAenC,OAQzB,CAA6CwS,I,8EChK5D,aACA,OAGA,OAGA,OAGA,OAGA,QAWMc,EAAiCxN,IACrC,MAAM,WACJoB,EAAU,MACVsF,EAAK,KACLC,EAAI,OACJhB,GACE3F,EAEEG,EAASiB,IAAe,EAAAvJ,oBAAoBC,KAElD,OACE,gBAAC,EAAAmV,MAAK,CACJtG,KAAMA,EACND,MAAOA,EACPf,OAAS8H,GAELtN,EACIwF,IACA,gBAAC,EAAA0D,SAAQ,CAACxI,GAAI,CACdyM,SAAU,EAAAtY,SAASE,MACnB8D,MAAO,CACLjE,KAAM0Y,EAAW9S,gBAe/B,EAAA6S,eAGF,UAAe,EAAA/L,QARUzI,IAAU,CACjCoI,WAAY,EAAA9F,uBAAuBtC,KAOtB,CAAyBwU,I,8EC/DxC,aAwBA,UAtB2B,IAEvB,wBAAMvN,UAAU,wDACd,uBAAKA,UAAU,UACb,uBAAKA,UAAU,sEACb,2BAASA,UAAU,qBACjB,uBAAKA,UAAU,wCACb,qBAAGA,UAAU,kBAAgB,+BAG7B,qBAAGA,UAAU,8BAA4B,4DAK7C,uBAAKA,UAAU,8B,8ECjBzB,aAwBA,UAtBqB,IAEjB,wBAAMA,UAAU,wDACd,uBAAKA,UAAU,UACb,uBAAKA,UAAU,sEACb,2BAASA,UAAU,qBACjB,uBAAKA,UAAU,wCACb,qBAAGA,UAAU,kBAAgB,kBAG7B,qBAAGA,UAAU,8BAA4B,6CAK7C,uBAAKA,UAAU,8B,6BCjBzB,iFA0BeyN,oCAAgB,CAC7B,CAAC5Z,IAAUC,MAAO/D,UAClB,CAAC8D,IAAUI,MAAOwL,UAClB,CAAC5L,IAAUG,OAAQiG,UACnB,CAACpG,IAAUE,MAAOoG,UAClB,CAACtG,IAAUK,MAAOkD,UAClB,CAACvD,IAAUO,UAAWuE,UACtB,CAAC9E,IAAUM,UAAW2L,a,6BCjCxB,6EAKO,MAAMqF,EAAauI,IACxB,MAAMtU,EAAMuU,IAAMza,OAAO,CACvB0a,QAAU,qDACVC,QAAS,IACTC,iBAAiB,IAuBnB,OAFA1U,EAAI2U,aAAapV,SAASqV,IAlBPrV,GACVA,EAGOY,IACd,MAAM,SACJZ,GACEY,EAEJ,GAAIZ,EAASL,SAAW5B,iBAAeE,aAGrC,MAFA8W,IAEMnU,EAGR,MAAMA,IAKDH","file":"bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/home/runner/work/959581-six-cities-3/959581-six-cities-3/public\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([51,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","const NameSpace = {\n  DATA: `DATA`,\n  CITY: `CITY`,\n  OFFER: `OFFER`,\n  SORT: `SORT`,\n  USER: `USER`,\n  FAVORITE: `FAVORITE`,\n  RESPONSE: `RESPONSE`,\n};\n\nexport default NameSpace;\n","const extend = (a, b) => {\n  return Object.assign({}, a, b);\n};\n\nconst getUniqueArray = (array) => {\n  const uniqueSet = new Set(array);\n\n  return Array\n    .from(uniqueSet);\n};\n\nexport {\n  extend,\n  getUniqueArray,\n};\n\n","const AppRoute = {\n  ROOT: `/`,\n  OFFER: `/offer/:id`,\n  LOGIN: `/login`,\n  FAVORITE: `/favorite/`,\n  NOT_FOUND: `/*`,\n};\n\nconst ClassModificator = {\n  CITIES: `cities`,\n  CITIES_MAP: `cities__map`,\n  CITIES_PLACES: `cities__places`,\n  CITIES_PLACES_LIST: `cities__places-list tabs__content`,\n  PROPERTY_MAP: `property__map`,\n  PROPERTY: `property`,\n  PLACE_CARD: `place-card`,\n  NEAR_PLACES: `near-places`,\n  NEAR_PLACES_LIST: `near-places__list`,\n  FAVORITES: `favorites`,\n  PAGE_MAIN: `page--gray page--main`,\n  PAGE_LOGIN: `page--gray page--login`,\n  PAGE_PROPERTY: `page__main--property`,\n};\n\nconst SORTING = [\n  `Popular`,\n  `Price: low to high`,\n  `Price: high to low`,\n  `Top rated first`\n];\n\nconst TypeSort = {\n  POPULAR: `Popular`,\n  PRICE_LOW_TO_HIGH: `Price: low to high`,\n  PRICE_HIGH_TO_LOW: `Price: high to low`,\n  TOP_RATED_FIRST: `Top rated first`,\n};\n\nconst TypeInputLogin = {\n  EMAIL: `email`,\n  PASSWORD: `password`,\n};\n\nconst ResponseStatus = {\n  STATUS_OK: 200,\n  UNAUTHORIZED: 401,\n};\n\nconst MS_IN_WEEK = 604800000;\nconst ONE_STAR = 20;\nconst STARS = [5, 4, 3, 2, 1];\nconst SITE_URL = `https://htmlacademy-react-3.appspot.com/six-cities`;\nconst MAX_SHOW_COMMENTS = 10;\n\nexport {\n  MS_IN_WEEK,\n  SORTING,\n  ONE_STAR,\n  STARS,\n  SITE_URL,\n  ResponseStatus,\n  AppRoute,\n  TypeSort,\n  ClassModificator,\n  TypeInputLogin,\n  MAX_SHOW_COMMENTS,\n};\n","class User {\n  constructor(user) {\n    this.id = user[`id`];\n    this.email = user[`email`];\n    this.name = user[`name`];\n    this.avatarUrl = user[`avatar_url`];\n    this.isPro = user[`is_pro`];\n  }\n\n  static parseUser(userInfo) {\n    return new User(userInfo);\n  }\n}\n\nexport default User;\n","import {\n  extend\n} from '../../utils.js';\nimport {\n  ActionCreator as ResponseAction\n} from '../response/response.js';\nimport {\n  ResponseStatus\n} from '../../consts.js';\nimport User from '../../models/user.js';\n\nconst DEFAULT_USER = {\n  id: -1,\n  name: ``,\n  email: ``,\n  isPro: false,\n  avatarUrl: ``\n};\n\nconst AuthorizationStatus = {\n  AUTH: `AUTH`,\n  NO_AUTH: `NO_AUTH`,\n};\n\nconst initialState = {\n  authorizationStatus: AuthorizationStatus.NO_AUTH,\n  user: DEFAULT_USER,\n};\n\nconst ActionType = {\n  REQUIRED_AUTHORIZATION: `REQUIRED_AUTHORIZATION`,\n  SET_USER: `SET_USER`,\n};\n\nconst ActionCreator = {\n  requireAuthorization: (status) => {\n    return {\n      type: ActionType.REQUIRED_AUTHORIZATION,\n      payload: status,\n    };\n  },\n  setUser: (user) => ({\n    type: ActionType.SET_USER,\n    payload: user,\n  })\n};\n\nconst onUserSignInSuccess = (response, dispatch) => {\n  const user = User.parseUser(response.data);\n  dispatch(ActionCreator.requireAuthorization(AuthorizationStatus.AUTH));\n  dispatch(ActionCreator.setUser(user));\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.REQUIRED_AUTHORIZATION:\n      return extend(state, {\n        authorizationStatus: action.payload,\n      });\n    case ActionType.SET_USER:\n      return extend(state, {\n        user: action.payload\n      });\n  }\n\n  return state;\n};\n\nconst Operation = {\n  checkAuth: () => (dispatch, getState, api) => {\n    return api.get(`/login`)\n      .then((response) => {\n        onUserSignInSuccess(response, dispatch);\n      })\n      .catch((err) => {\n        throw err;\n      });\n  },\n\n  signIn: (authData) => (dispatch, getState, api) => {\n    return api.post(`/login`, {\n      email: authData.login,\n      password: authData.password,\n    })\n      .then((response) => {\n        const responseCode = response.status;\n        dispatch(ResponseAction.setResponseStatusCode(responseCode));\n\n        if (responseCode === ResponseStatus.STATUS_OK) {\n          onUserSignInSuccess(response, dispatch);\n        }\n      });\n  },\n};\n\nexport {\n  ActionCreator,\n  ActionType,\n  reducer,\n  AuthorizationStatus,\n  Operation,\n  DEFAULT_USER,\n};\n","class Offer {\n  constructor(offer) {\n    this.bedrooms = offer[`bedrooms`];\n    this.city = offer[`city`];\n    this.description = offer[`description`];\n    this.goods = offer[`goods`];\n    this.host = {\n      avatarUrl: offer.host[`avatar_url`],\n      id: offer.host[`id`],\n      isPro: offer.host[`is_pro`],\n      name: offer.host[`name`]\n    };\n    this.id = offer[`id`];\n    this.images = offer[`images`];\n    this.isFavorite = offer[`is_favorite`];\n    this.isPremium = offer[`is_premium`];\n    this.location = offer[`location`];\n    this.maxAdults = offer[`max_adults`];\n    this.previewImage = offer[`preview_image`];\n    this.price = offer[`price`];\n    this.rating = offer[`rating`];\n    this.title = offer[`title`];\n    this.type = offer[`type`];\n  }\n\n  toRAW() {\n    return {\n      'bedrooms': this.bedrooms,\n      'city': this.city,\n      'description': this.description,\n      'goods': this.goods,\n      'host': {\n        'avatar_url': this.host.avatarUrl,\n        'id': this.host.id,\n        'is_pro': this.host.isPro,\n        'name': this.host.name\n      },\n      'id': this.id,\n      'images': this.images,\n      'is_favorite': this.isFavorite,\n      'is_premium': this.isPremium,\n      'location': this.location,\n      'max_adults': this.maxAdults,\n      'preview_image': this.previewImage,\n      'price': this.price,\n      'rating': this.rating,\n      'title': this.title,\n      'type': this.type\n    };\n  }\n\n  static parseOffer(offer) {\n    return new Offer(offer);\n  }\n\n  static parseOffers(offers) {\n    return offers.map(Offer.parseOffer);\n  }\n}\n\nexport default Offer;\n","import NameSpace from \"../name-space.js\";\n\nconst NAME_SPACE = NameSpace.USER;\n\nconst getAuthorizationStatus = (state) => {\n  return state[NAME_SPACE].authorizationStatus;\n};\n\nconst getUser = (state) => {\n  return state[NAME_SPACE].user;\n};\n\nexport {\n  getAuthorizationStatus,\n  getUser\n};\n","import {\n  extend\n} from '../../utils.js';\n\nconst initialState = {\n  responseStatusCode: null,\n};\n\nconst ActionType = {\n  SET_RESPONSE_STATUS_CODE: `SET_RESPONSE_STATUS_CODE`,\n  RESET_RESPONSE_STATUS_CODE: `RESET_RESPONSE_STATUS_CODE`,\n};\n\nconst ActionCreator = {\n  setResponseStatusCode: (code) => ({\n    type: ActionType.SET_RESPONSE_STATUS_CODE,\n    payload: code,\n  }),\n  resetResponseStatusCode: () => ({\n    type: ActionType.RESET_RESPONSE_STATUS_CODE,\n    payload: null,\n  })\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.SET_RESPONSE_STATUS_CODE:\n      return extend(state, {\n        responseStatusCode: action.payload,\n      });\n    case ActionType.RESET_RESPONSE_STATUS_CODE:\n      return extend(state, {\n        responseStatusCode: action.payload,\n      });\n  }\n\n  return state;\n};\n\nexport {\n  reducer,\n  ActionCreator,\n  ActionType\n};\n","import {\n  extend\n} from '../../utils.js';\n\nconst initialState = {\n  currentCity: ``,\n};\n\nconst ActionType = {\n  SET_CURRENT_CITY: `SET_CURRENT_CITY`,\n};\n\nconst ActionCreator = {\n  setCurrentCity: (city) => ({\n    type: ActionType.SET_CURRENT_CITY,\n    payload: city,\n  }),\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.SET_CURRENT_CITY:\n      return extend(state, {\n        currentCity: action.payload,\n      });\n  }\n\n  return state;\n};\n\nexport {\n  reducer,\n  ActionCreator,\n  ActionType,\n};\n\n","import {\n  extend\n} from '../../utils.js';\n\nconst initialState = {\n  activeOffer: null,\n  focusOffer: null,\n};\n\nconst ActionType = {\n  SET_ACTIVE_OFFER: `SET_ACTIVE_OFFER`,\n  SET_FOCUS_OFFER: `SET_FOCUS_OFFER`,\n  RESET_FOCUS_OFFER: `RESET_FOCUS_OFFER`,\n};\n\nconst ActionCreator = {\n  setActiveOffer: (offer) => ({\n    type: ActionType.SET_ACTIVE_OFFER,\n    payload: offer,\n  }),\n\n  setFocusOffer: (offer) => ({\n    type: ActionType.SET_FOCUS_OFFER,\n    payload: offer,\n  }),\n\n  resetFocusOffer: () => ({\n    type: ActionType.RESET_FOCUS_OFFER,\n    payload: null,\n  }),\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.SET_ACTIVE_OFFER:\n      return extend(state, {\n        activeOffer: action.payload,\n      });\n    case ActionType.SET_FOCUS_OFFER:\n      return extend(state, {\n        focusOffer: action.payload,\n      });\n    case ActionType.RESET_FOCUS_OFFER:\n      return extend(state, {\n        focusOffer: action.payload,\n      });\n  }\n\n  return state;\n};\n\nexport {\n  reducer,\n  ActionCreator,\n  ActionType,\n};\n","class Comment {\n  constructor(comment) {\n    this.comment = comment[`comment`];\n    this.date = comment[`date`];\n    this.id = comment[`id`];\n    this.rating = comment[`rating`];\n    this.user = {\n      avatarUrl: comment.user[`avatar_url`],\n      id: comment.user[`id`],\n      isPro: comment.user[`is_pro`],\n      name: comment.user[`name`]\n    };\n  }\n\n  toRAW() {\n    return {\n      'comment': this.comment,\n      'date': this.date,\n      'id': this.id,\n      'rating': this.rating,\n      'user': {\n        'avatar_url': this.user.avatarUrl,\n        'id': this.user.id,\n        'is_pro': this.user.isPro,\n        'name': this.user.name\n      }\n    };\n  }\n\n  static parseComment(comment) {\n    return new Comment(comment);\n  }\n\n  static parseComments(comments) {\n    return comments.map(Comment.parseComment);\n  }\n}\n\nexport default Comment;\n","import {\n  extend\n} from \"../../utils.js\";\nimport NameSpace from '../name-space.js';\nimport Comment from '../../models/comment.js';\nimport Offer from '../../models/offer.js';\nimport {\n  ActionCreator as ActionCity\n} from '../city/city.js';\n\nconst initialState = {\n  offers: [],\n  comments: [],\n  offersNearby: [],\n  loadStatus: false,\n};\n\nconst ActionType = {\n  LOAD_OFFERS: `LOAD_OFFERS`,\n  LOAD_OFFERS_NEARBY: `LOAD_OFFERS_NEARBY`,\n  LOAD_COMMENTS: `LOAD_COMMENTS`,\n  LOAD_STATUS: `LOAD_STATUS`,\n  UPLOAD_COMMENTS: `UPLOAD_COMMENTS`,\n};\n\nconst ActionCreator = {\n  loadOffers: (offers) => {\n    return {\n      type: ActionType.LOAD_OFFERS,\n      payload: offers,\n    };\n  },\n  loadOffersNearby: (offers) => {\n    return {\n      type: ActionType.LOAD_OFFERS_NEARBY,\n      payload: offers,\n    };\n  },\n  loadComments: (comments) => {\n    return {\n      type: ActionType.LOAD_COMMENTS,\n      payload: comments,\n    };\n  },\n  loadStatus: () => {\n    return {\n      type: ActionType.LOAD_STATUS,\n      payload: true,\n    };\n  },\n  uploadComments: (comments) => {\n    return {\n      type: ActionType.UPLOAD_COMMENTS,\n      payload: comments,\n    };\n  }\n};\n\nconst Operation = {\n  loadOffers: () => (dispatch, getState, api) => {\n    return api.get(`/hotels`)\n      .then((response) => {\n        const offers = Offer.parseOffers(response.data);\n        dispatch(ActionCreator.loadOffers(offers));\n        dispatch(ActionCreator.loadStatus());\n        if (offers.length !== 0) {\n          dispatch(ActionCity.setCurrentCity(offers[0].city.name));\n        }\n      });\n  },\n  loadOffersNearby: () => (dispatch, getState, api) => {\n    const REQUEST = `/hotels/${getState()[NameSpace.OFFER].activeOffer.id}/nearby`;\n\n    return api.get(REQUEST)\n      .then((response) => {\n        const offers = Offer.parseOffers(response.data);\n        dispatch(ActionCreator.loadOffersNearby(offers));\n      });\n  },\n  loadComments: () => (dispatch, getState, api) => {\n    const REQUEST = `/comments/${getState()[NameSpace.OFFER].activeOffer.id}`;\n    return api.get(REQUEST)\n      .then((response) => {\n        const comments = Comment.parseComments(response.data);\n        dispatch(ActionCreator.loadComments(comments));\n      });\n  },\n  uploadComments: (comment) => (dispatch, getState, api) => {\n    const REQUEST = `/comments/${getState()[NameSpace.OFFER].activeOffer.id}`;\n\n    return api.post(REQUEST, {\n      rating: comment.rating,\n      comment: comment.text,\n    })\n      .then((response) => {\n        const comments = Comment.parseComments(response.data);\n        dispatch(ActionCreator.uploadComments(comments));\n      });\n  },\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.LOAD_OFFERS:\n      return extend(state, {\n        offers: action.payload,\n      });\n    case ActionType.LOAD_COMMENTS:\n      return extend(state, {\n        comments: action.payload,\n      });\n    case ActionType.LOAD_OFFERS_NEARBY:\n      return extend(state, {\n        offersNearby: action.payload,\n      });\n    case ActionType.LOAD_STATUS:\n      return extend(state, {\n        loadStatus: action.payload,\n      });\n    case ActionType.UPLOAD_COMMENTS:\n      return extend(state, {\n        comments: action.payload,\n      });\n  }\n\n  return state;\n};\n\nexport {\n  reducer,\n  ActionType,\n  ActionCreator,\n  Operation,\n};\n","import {\n  createSelector\n} from 'reselect';\nimport {\n  getUniqueArray\n} from '../../utils.js';\nimport {\n  MAX_SHOW_COMMENTS\n} from '../../consts.js';\nimport NameSpace from '../name-space.js';\n\nconst NAME_SPACE = NameSpace.DATA;\n\nconst getCurrentCity = (state) => {\n  return state[NameSpace.CITY].currentCity;\n};\n\nconst getComments = (state) => {\n  return state[NAME_SPACE].comments;\n};\n\nconst getOffers = (state) => {\n  return state[NAME_SPACE].offers;\n};\n\nconst getOffersNearby = (state) => {\n  return state[NAME_SPACE].offersNearby;\n};\n\nconst getLoadStatus = (state) => {\n  return state[NAME_SPACE].loadStatus;\n};\n\nconst getLocations = createSelector(\n    getOffers,\n    (offers) => {\n      const locations = offers\n        .map((offer) => offer.city.name);\n      return getUniqueArray(locations);\n    }\n);\n\nconst getOffersCurrentCity = createSelector(\n    getOffers,\n    getCurrentCity,\n\n    (offers, currentCity) => {\n      return offers\n        .filter((offer) => offer.city.name === currentCity);\n    }\n);\n\nconst getSortedCommentsNewOld = createSelector(\n    getComments,\n    (comments) => comments\n      .slice((newComment, oldComment) => new Date(oldComment.date) - new Date(newComment.date))\n);\n\nconst getCommentsByShow = createSelector(\n    getSortedCommentsNewOld,\n    (comments) => comments.slice(0, MAX_SHOW_COMMENTS)\n);\n\nconst getCountComments = createSelector(\n    getComments,\n    (comments) => comments.length\n);\n\nexport {\n  getOffers,\n  getOffersNearby,\n  getLocations,\n  getOffersCurrentCity,\n  getLoadStatus,\n  getCommentsByShow,\n  getCountComments,\n};\n","import NameSpace from '../name-space.js';\n\nconst NAME_SPACE = NameSpace.OFFER;\n\nconst getActiveOffer = (state) => {\n  return state[NAME_SPACE].activeOffer;\n};\n\nconst getFocusOffer = (state) => {\n  return state[NAME_SPACE].focusOffer;\n};\n\nexport {\n  getActiveOffer,\n  getFocusOffer,\n};\n","import {\n  extend\n} from '../../utils.js';\nimport Offer from '../../models/offer.js';\nimport NameSpace from '../name-space.js';\n\nconst initialState = {\n  favorites: [],\n};\n\nconst ActionType = {\n  ADD_FAVORITE: `ADD_FAVORITE`,\n  LOAD_FAVORITES: `LOAD_FAVORITES`,\n  REMOVE_FAVORITE: `REMOVE_FAVORITE`,\n};\n\nconst ActionCreator = {\n  addFavorite: (favoriteOffer) => ({\n    type: ActionType.ADD_FAVORITE,\n    payload: favoriteOffer,\n  }),\n  loadFavorites: (favoriteOffers) => ({\n    type: ActionType.LOAD_FAVORITES,\n    payload: favoriteOffers,\n  }),\n  removeFavorite: (favoriteOffer) => ({\n    type: ActionType.REMOVE_FAVORITE,\n    payload: favoriteOffer,\n  })\n};\n\nconst Operation = {\n  addFavorite: () => (dispatch, getState, api) => {\n    const status = 0.5;\n    let id;\n    if (getState()[NameSpace.OFFER].focusOffer !== null) {\n      id = getState()[NameSpace.OFFER].focusOffer.id;\n    } else {\n      id = getState()[NameSpace.OFFER].activeOffer.id;\n    }\n\n    return api.post(`/favorite/${id}/${status}`, {\n      'hotel_id': id,\n      'status': status\n    })\n      .then((response) => {\n        const favoriteOffer = Offer.parseOffer(response.data);\n        dispatch(ActionCreator.addFavorite(favoriteOffer));\n      });\n  },\n\n  loadFavorites: () => (dispatch, getState, api) => {\n    return api.get(`/favorite`)\n      .then((response) => {\n        const favoriteOffers = Offer.parseOffers(response.data);\n        dispatch(ActionCreator.loadFavorites(favoriteOffers));\n      });\n  },\n\n  removeFavorite: () => (dispatch, getState, api) => {\n    const status = 0;\n    let id;\n    if (getState()[NameSpace.OFFER].focusOffer !== null) {\n      id = getState()[NameSpace.OFFER].focusOffer.id;\n    } else {\n      id = getState()[NameSpace.OFFER].activeOffer.id;\n    }\n\n    return api.post(`/favorite/${id}/${status}`, {\n      'hotel_id': id,\n      'status': status\n    })\n      .then((response) => {\n        const favoriteOffer = Offer.parseOffer(response.data);\n        dispatch(ActionCreator.removeFavorite(favoriteOffer));\n      });\n  }\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.LOAD_FAVORITES:\n      return extend(state, {\n        favorites: action.payload\n      });\n    case ActionType.ADD_FAVORITE:\n      return extend(state, {\n        favorites: [action.payload, ...state.favorites]\n      });\n    case ActionType.REMOVE_FAVORITE:\n      return extend(state, {\n        favorites: state.favorites\n          .filter((offer) => offer.id !== action.payload.id)\n      });\n    default:\n      return state;\n  }\n};\n\nexport {\n  reducer,\n  Operation,\n  ActionType,\n  ActionCreator,\n};\n","import {\n  extend\n} from '../../utils.js';\nimport {\n  TypeSort\n} from \"../../consts.js\";\n\nconst initialState = {\n  currentSort: TypeSort.POPULAR,\n};\n\nconst ActionType = {\n  SET_CURRENT_SORT: `SET_CURRENT_SORT`,\n};\n\nconst ActionCreator = {\n  setCurrentSort: (sort) => ({\n    type: ActionType.SET_CURRENT_SORT,\n    payload: sort,\n  }),\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ActionType.SET_CURRENT_SORT:\n      return extend(state, {\n        currentSort: action.payload,\n      });\n  }\n\n  return state;\n};\n\nexport {\n  reducer,\n  ActionCreator,\n  ActionType,\n};\n","import NameSpace from '../name-space.js';\nimport {\n  createSelector\n} from 'reselect';\nimport {\n  getUniqueArray\n} from '../../utils.js';\n\nconst NAME_SPACE = NameSpace.FAVORITE;\n\nconst getFavorites = (state) => state[NAME_SPACE].favorites;\n\nconst checkFavorite = (state, id) => {\n  return state[NAME_SPACE]\n    .favorites\n    .some((offer) => offer.id === id);\n};\n\nconst getFavoritesLocations = createSelector(\n    getFavorites,\n    (favorites) => getUniqueArray(favorites\n      .map((favorite) => favorite.city.name)\n    )\n);\n\nexport {\n  checkFavorite,\n  getFavorites,\n  getFavoritesLocations,\n};\n","import * as React from 'react';\nimport {\n  User\n} from '../../types';\nimport Header from \"../header/header\";\n\ninterface Props {\n  className?: string;\n  children?: React.ReactNode;\n  isAuth: boolean;\n  user: User;\n}\n\nconst Page: React.FC<Props> = (props: Props) => {\n  const {\n    className,\n    children,\n    isAuth,\n    user,\n  } = props;\n\n  return (\n    <div className={`page ${className}`}>\n      {<Header\n        isAuth={isAuth}\n        user={user}\n      />}\n      {children}\n    </div>\n  );\n};\n\nexport default Page;\n","import * as React from 'react';\nimport {\n  Link\n} from 'react-router-dom';\nimport {\n  ClassModificator as ClassName\n} from \"../../consts\";\nimport {\n  Offer\n} from '../../types';\nimport FavoriteButton from \"../favorite-button/favorite-button\";\nimport Rating from '../rating/rating';\n\ninterface Props {\n  classModificator: string;\n  offer: Offer;\n  onMouseEnter: (Offer) => void;\n  onMouseLeave: () => void;\n}\n\nconst PlaceCard: React.FC<Props> = (props: Props) => {\n  const {\n    classModificator,\n    offer,\n    onMouseEnter,\n    onMouseLeave,\n  } = props;\n\n  const {\n    id,\n    isPremium,\n    previewImage,\n    price,\n    rating,\n    title,\n    type,\n  } = offer;\n\n  return (\n    <article\n      className={`${classModificator}__place-card place-card`}\n      onMouseEnter={() => {\n        onMouseEnter(offer);\n      }}\n      onMouseLeave={() => {\n        onMouseLeave();\n      }}\n    >\n      {(isPremium && classModificator !== ClassName.FAVORITES) &&\n        <div className=\"place-card__mark\">\n          <span>\n            Premium\n          </span>\n        </div>\n      }\n      <div className=\"cities__image-wrapper place-card__image-wrapper\">\n        <a href=\"#\">\n          <img\n            className=\"place-card__image\"\n            src={previewImage}\n            width={classModificator === ClassName.FAVORITES ? 150 : 260}\n            height={classModificator === ClassName.FAVORITES ? 110 : 200}\n            alt=\"Place image\"\n          />\n        </a>\n      </div>\n      <div className=\"place-card__info\">\n        <div className=\"place-card__price-wrapper\">\n          <div className=\"place-card__price\">\n            <b className=\"place-card__price-value\">&euro;\n              {price}\n            </b>\n            <span className=\"place-card__price-text\">&#47;&nbsp;night</span>\n          </div>\n          <FavoriteButton\n            classModificator={classModificator}\n            id={id}\n            height={19}\n            width={18}\n          />\n        </div>\n        <Rating\n          classModificator={ClassName.PLACE_CARD}\n          rating={rating}\n        />\n        <h2\n          className=\"place-card__name\"\n        >\n          <Link to={`/offer/${id}`}>{title}</Link>\n        </h2>\n        <p className=\"place-card__type\">\n          {type}\n        </p>\n      </div>\n    </article>\n  );\n};\n\nexport default PlaceCard;\n","import * as React from 'react';\nimport {\n  Link\n} from 'react-router-dom';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  Operation as FavoriteOperation\n} from '../../reducer/favorite/favorite';\nimport {\n  AuthorizationStatus\n} from '../../reducer/user/user';\nimport {\n  getAuthorizationStatus\n} from '../../reducer/user/selectors';\nimport {\n  checkFavorite\n} from '../../reducer/favorite/selectors';\nimport {\n  AppRoute\n} from '../../consts';\n\ninterface Props {\n  authStatus: string;\n  classModificator?: string;\n  id: number;\n  height: number;\n  width: number;\n  isFavorite: boolean;\n  onFavoriteClick: (id: number, isFavorite: boolean) => void;\n}\n\nclass FavoriteButton extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n    this._handleFavorite = this._handleFavorite.bind(this);\n  }\n\n  _handleFavorite() {\n    const {\n      id,\n      isFavorite,\n      onFavoriteClick\n    } = this.props;\n\n    onFavoriteClick(id, isFavorite);\n  }\n\n  render() {\n    const {\n      authStatus,\n      classModificator,\n      isFavorite,\n      height,\n      width,\n    } = this.props;\n\n    const isAuth = authStatus === AuthorizationStatus.AUTH;\n    const favoriteClass = isFavorite ? `place-card__bookmark-button--active` : ``;\n\n    return (\n      <React.Fragment>\n        {isAuth &&\n          <button\n            className={`${classModificator}__bookmark-button button ${favoriteClass}`}\n            type=\"button\"\n            onClick={this._handleFavorite}\n          >\n            <svg className={`place-card__bookmark-icon`}\n              width={width}\n              height={height}\n            >\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </button>\n        }\n        {isAuth ||\n          <Link to={AppRoute.LOGIN} className={`${classModificator}__bookmark-button button`}>\n            <svg className={`place-card__bookmark-icon`}\n              width={width}\n              height={height}\n            >\n              <use xlinkHref=\"#icon-bookmark\"></use>\n            </svg>\n            <span className=\"visually-hidden\">To bookmarks</span>\n          </Link>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => ({\n  authStatus: getAuthorizationStatus(state),\n  isFavorite: checkFavorite(state, props.id),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onFavoriteClick(id, isFavorite) {\n    if (isFavorite) {\n      dispatch(FavoriteOperation.removeFavorite(id));\n    } else {\n      dispatch(FavoriteOperation.addFavorite(id));\n    }\n  }\n});\n\nexport {\n  FavoriteButton\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FavoriteButton);\n","import * as React from 'react';\nimport {\n  ONE_STAR,\n  ClassModificator\n} from \"../../consts\";\n\ninterface Props {\n  classModificator: string;\n  rating: number;\n}\n\nconst Rating: React.FC<Props> = (props: Props) => {\n  const {\n    classModificator,\n    rating\n  } = props;\n\n  const ratingStyleWidth = Math.round(rating) * ONE_STAR;\n\n  return (\n    <div className={`${classModificator}__rating rating`}>\n      <div className={`${classModificator}__stars rating__stars`}>\n        <span style={{width: `${ratingStyleWidth}%`}}></span>\n        <span className=\"visually-hidden\">Rating</span>\n      </div>\n      {classModificator === ClassModificator.PROPERTY &&\n        <span className={`${classModificator}__rating-value rating__value`}>\n          {rating}\n        </span>\n      }\n    </div>\n  );\n};\n\nexport default Rating;\n","import * as React from \"react\";\nimport {\n  Subtract\n} from \"utility-types\";\n\ninterface State {\n  isHovered: boolean;\n}\n\ninterface Props {\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\ninterface InjectingProps {\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nconst withHover = (Component) => {\n  type S = React.ComponentProps<typeof Component>;\n\n  type T = Subtract<S, InjectingProps>;\n\n  class WithHover extends React.PureComponent<T, State, Props> {\n    constructor(props) {\n      super(props);\n      this.state = {\n        isHovered: false,\n      };\n      this._handleMouseEnter = this._handleMouseEnter.bind(this);\n      this._handleMouseLeave = this._handleMouseLeave.bind(this);\n    }\n\n    _handleMouseEnter(element) {\n      this.setState({\n        isHovered: true\n      });\n      this.props.onCardHover(element);\n    }\n\n    _handleMouseLeave() {\n      this.setState({\n        isHovered: false,\n      });\n      this.props.onCardLeave();\n    }\n\n    render() {\n      return (\n        <Component\n          {...this.props}\n          onMouseEnter={this._handleMouseEnter}\n          onMouseLeave={this._handleMouseLeave}\n        />\n      );\n    }\n  }\n\n  return WithHover;\n};\n\nexport default withHover;\n","import * as React from 'react';\nimport * as leaflet from \"leaflet\";\nimport {\n  Coordinate,\n  Offer,\n} from \"../../types\";\nimport {\n  ClassModificator\n} from '../../consts';\n\ninterface Props {\n  currentCityOffers: Offer[];\n  classModificator?: string;\n  currentOfferCoordinate?: Coordinate;\n  focusOffer: Offer;\n}\n\nclass Map extends React.PureComponent<Props, {}> {\n  private _map;\n  private _markers;\n  private _iconActive;\n  private _iconDefault;\n  private _iconCurrentOffer;\n  private readonly _mapRef: React.RefObject<HTMLElement>;\n\n  constructor(props) {\n    super(props);\n    this._mapRef = React.createRef();\n    this._map = undefined;\n    this._markers = {};\n    this._iconActive = leaflet.icon({\n      iconUrl: `../img/pin-active.svg`,\n      iconSize: [30, 35]\n    });\n    this._iconDefault = leaflet.icon({\n      iconUrl: `../img/pin.svg`,\n      iconSize: [30, 35]\n    });\n    this._iconCurrentOffer = leaflet.icon({\n      iconUrl: `../img/pin-current-offer.svg`,\n      iconSize: [37, 42]\n    });\n  }\n\n  componentDidMount() {\n    const mapRef = this._mapRef.current;\n    if (mapRef) {\n      const {\n        currentCityOffers,\n        classModificator,\n        currentOfferCoordinate,\n      } = this.props;\n\n      const COORDINATES = this._getCoordinates(currentCityOffers);\n\n      this._initiatesMap();\n\n      leaflet\n        .tileLayer(`https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png`, {\n          attribution: `&copy; <a href=\"https://www.openstreetmap.org/copyright\">\n          OpenStreetMap</a> contributors &copy;\n          <a href=\"https://carto.com/attributions\">CARTO</a>`\n        })\n        .addTo(this._map);\n\n      this._markers = COORDINATES.map((markerCoordinate) =>\n        leaflet\n        .marker(markerCoordinate, {icon: this._iconDefault})\n        .addTo(this._map)\n      );\n\n      if (classModificator === ClassModificator.PROPERTY_MAP) {\n        this._markers.push(leaflet\n        .marker(currentOfferCoordinate, {icon: this._iconCurrentOffer})\n        .addTo(this._map));\n      }\n    }\n  }\n\n  componentDidUpdate() {\n    const {\n      focusOffer,\n      currentCityOffers,\n      classModificator,\n      currentOfferCoordinate,\n    } = this.props;\n\n    const CURRENT_CITY = this._getCurrentCityCoordinate(currentCityOffers);\n\n    this._map.setView(CURRENT_CITY, CURRENT_CITY.zoom);\n\n    this._resetMarkers();\n\n    if (focusOffer !== null) {\n      const COORDINATES_WITH_ID = this._getCoordinatesWithID(currentCityOffers);\n      const FOCUS_OFFER_ID = focusOffer.id;\n      this._markers = COORDINATES_WITH_ID.map((markerCoordinate) => {\n        if (markerCoordinate.id !== FOCUS_OFFER_ID) {\n          return leaflet\n            .marker(markerCoordinate, {icon: this._iconDefault})\n            .addTo(this._map);\n        } else {\n          return leaflet\n            .marker(markerCoordinate, {icon: this._iconActive})\n            .addTo(this._map);\n        }\n      });\n\n    } else if (focusOffer === null) {\n      const COORDINATES = this._getCoordinates(currentCityOffers);\n      this._markers = COORDINATES.map((coordinate) =>\n        leaflet\n          .marker(coordinate, {icon: this._iconDefault})\n          .addTo(this._map)\n      );\n    }\n\n    if (classModificator === ClassModificator.PROPERTY_MAP) {\n      this._markers.push(leaflet\n      .marker(currentOfferCoordinate, {icon: this._iconCurrentOffer})\n      .addTo(this._map));\n    }\n  }\n\n  componentWillUnmount() {\n    this._map = null;\n  }\n\n  _getCoordinates(currentCityOffers) {\n    return currentCityOffers\n      .map((offer) => ({\n        lat: offer.location.latitude,\n        lng: offer.location.longitude,\n      }));\n  }\n\n  _getCoordinatesWithID(currentCityOffers) {\n    return currentCityOffers\n      .map((offer) => ({\n        lat: offer.location.latitude,\n        lng: offer.location.longitude,\n        id: offer.id,\n      }));\n  }\n\n  _getCurrentCityCoordinate(currentCityOffers) {\n    return ({\n      lat: currentCityOffers[0].city.location.latitude,\n      lng: currentCityOffers[0].city.location.longitude,\n      zoom: currentCityOffers[0].city.location.zoom,\n    });\n  }\n\n  _initiatesMap() {\n    const {\n      currentCityOffers,\n    } = this.props;\n\n    const CURRENT_CITY = this._getCurrentCityCoordinate(currentCityOffers);\n\n    this._map = leaflet.map(this._mapRef.current, {\n      center: CURRENT_CITY,\n      zoom: CURRENT_CITY.zoom,\n      zoomControl: false,\n      marker: true\n    });\n  }\n\n  _resetMarkers() {\n    if (this._markers !== undefined) {\n      this._markers.forEach((marker) => this._map.removeLayer(marker));\n    }\n  }\n\n  render() {\n    const {\n      classModificator,\n    } = this.props;\n\n    return (\n      <section ref={this._mapRef} className={`map ${classModificator}`}>\n      </section>\n    );\n  }\n}\n\nexport default Map;\n","import * as React from 'react';\nimport {\n  ClassModificator\n} from \"../../consts\";\nimport {\n  Offer,\n} from \"../../types\";\nimport PlacesCardList from \"../place-card-list/place-card-list\";\nimport PlacesSort from \"../places-sort/places-sort\";\nimport withToggle from \"../../hocs/with-toggle/with-toggle\";\n\ninterface Props {\n  classModificator: string;\n  currentCity?: string;\n  currentSort: string;\n  currentCityOffers: Offer[];\n  handleSortChange?: () => void;\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nconst PlacesSortWrapped = withToggle(PlacesSort);\n\nconst Places: React.FC<Props> = (props: Props) => {\n  const {\n    classModificator,\n    currentCityOffers,\n    currentSort,\n    currentCity,\n    handleSortChange,\n    onCardHover,\n    onCardLeave,\n  } = props;\n\n  const AVAILABLE_OFFERS = currentCityOffers.length;\n\n  return (\n    <section className={`places ${classModificator}`}>\n      {classModificator === ClassModificator.CITIES_PLACES &&\n        <React.Fragment>\n          <h2 className=\"visually-hidden\">Places</h2>\n          <b className=\"places__found\">\n            {\n              AVAILABLE_OFFERS\n            } places to stay in {\n              currentCity\n            }\n          </b>\n          {<PlacesSortWrapped\n            currentSort={currentSort}\n            handleSortChange={handleSortChange}\n          />}\n          {<PlacesCardList\n            classModificator={ClassModificator.CITIES_PLACES_LIST}\n            currentCityOffers={currentCityOffers}\n            currentSort={currentSort}\n            onCardHover={onCardHover}\n            onCardLeave={onCardLeave}\n          />}\n        </React.Fragment>\n      }\n\n      {classModificator === ClassModificator.NEAR_PLACES &&\n        <React.Fragment>\n          <h2 className=\"near-places__title\">Other places in the neighbourhood</h2>\n\n          {<PlacesCardList\n            classModificator={ClassModificator.NEAR_PLACES_LIST}\n            currentCityOffers={currentCityOffers}\n            currentSort={currentSort}\n            onCardHover={onCardHover}\n            onCardLeave={onCardLeave}\n          />}\n        </React.Fragment>\n      }\n    </section>\n  );\n};\n\nexport default Places;\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {\n  createStore,\n  applyMiddleware,\n} from \"redux\";\nimport {\n  Provider,\n} from \"react-redux\";\nimport {\n  composeWithDevTools\n} from \"redux-devtools-extension\";\nimport thunk from 'redux-thunk';\nimport App from \"./components/app/app\";\nimport reducer from \"./reducer/reducer\";\nimport {\n  Operation as DataOperation\n} from \"./reducer/data/data\";\n\nimport {\n  createAPI\n} from './api';\nimport {\n  Operation as UserOperation,\n  ActionCreator,\n  AuthorizationStatus\n} from \"./reducer/user/user\";\n\nconst onUnauthorized = () => {\n  store.dispatch(ActionCreator.requireAuthorization(AuthorizationStatus.NO_AUTH));\n};\n\nconst api = createAPI(onUnauthorized);\n\nconst store = createStore(\n    reducer,\n    composeWithDevTools(\n        applyMiddleware(thunk.withExtraArgument(api))\n    )\n);\n\nstore.dispatch(DataOperation.loadOffers());\nstore.dispatch(UserOperation.checkAuth());\n\nReactDOM.render(\n    <Provider store={\n      store\n    }>\n      <App />\n    </Provider>,\n    document.querySelector(`#root`)\n);\n","import * as React from 'react';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  BrowserRouter,\n  Switch,\n} from 'react-router-dom';\nimport {\n  ActionCreator as ActionOffer\n} from '../../reducer/offer/offer';\nimport {\n  Operation as UserOperation,\n  AuthorizationStatus,\n} from '../../reducer/user/user';\nimport {\n  ActionCreator as ResetResponseStatus\n} from '../../reducer/response/response';\nimport {\n  getResponseStatusCode\n} from '../../reducer/response/selectors';\nimport {\n  getCurrentCity\n} from '../../reducer/city/selectors';\nimport {\n  getLocations,\n  getOffersCurrentCity,\n  getLoadStatus,\n  getOffers,\n} from '../../reducer/data/selectors';\nimport {\n  getAuthorizationStatus,\n} from '../../reducer/user/selectors';\nimport {\n  getFocusOffer\n} from '../../reducer/offer/selectors';\nimport {\n  getCurrentSort\n} from '../../reducer/sort/selectors';\nimport {\n  Offer,\n} from '../../types';\nimport {\n  AppRoute,\n} from '../../consts';\nimport withErrorMessage from '../../hocs/with-error-message/with-error-message';\nimport Favorites from '../favorites/favorites';\nimport Login from '../login/login';\nimport Main from '../main/main';\nimport Property from '../property/property';\nimport RouteWithPage from '../route-with-page/route-with-page';\nimport PrivateRoute from '../private-route/private-route';\nimport NotAvailableOffers from '../not-available-offers/not-available-offers';\nimport NotFoundPage from '../not-found-page/not-found-page';\n\ninterface Props {\n  authStatus: string;\n  currentCity: string;\n  currentSort: string;\n  currentCityOffers: Offer[];\n  focusOffer: Offer;\n  locations: string[];\n  loadStatus: string;\n  offers: Offer[];\n  onCardHover: () => void;\n  onCardLeave: () => void;\n  onResetError: () => void;\n  responseStatus: null | number;\n  signIn: () => void;\n}\n\nconst FavoritesWrapped = withErrorMessage(Favorites);\nconst LoginWrapped = withErrorMessage(Login);\nconst MainWrapped = withErrorMessage(Main);\nconst PropertyWrapped = withErrorMessage(Property);\n\nconst App: React.FC<Props> = (props: Props) => {\n  const {\n    authStatus,\n    currentCity,\n    currentSort,\n    currentCityOffers,\n    focusOffer,\n    locations,\n    loadStatus,\n    offers,\n    onCardHover,\n    onCardLeave,\n    onResetError,\n    responseStatus,\n    signIn,\n  } = props;\n\n  const isLoadingComplete = loadStatus;\n  const isNotAvailableOffers = offers.length === 0;\n  const isAuth = authStatus === AuthorizationStatus.AUTH;\n\n  const getRootPage = () => {\n    if (isLoadingComplete && isNotAvailableOffers) {\n      return <NotAvailableOffers />;\n    } else {\n      return <MainWrapped\n        currentCity={currentCity}\n        currentCityOffers={currentCityOffers}\n        currentSort={currentSort}\n        focusOffer={focusOffer}\n        locations={locations}\n        onCardHover={onCardHover}\n        onCardLeave={onCardLeave}\n        onResetError={onResetError}\n        responseStatus={responseStatus}\n      />;\n    }\n  };\n\n  return (\n    <BrowserRouter>\n      <Switch>\n        <RouteWithPage\n          exact\n          path={AppRoute.ROOT}\n          component={getRootPage()}\n        />\n        <RouteWithPage\n          exact\n          path={AppRoute.LOGIN}\n          component={\n            <LoginWrapped\n              currentCity={currentCity}\n              isAuth={isAuth}\n              onResetError={onResetError}\n              responseStatus={responseStatus}\n              signIn={signIn}\n            />\n          }\n        />\n        <RouteWithPage\n          exact\n          path={AppRoute.OFFER}\n          component={\n            <PropertyWrapped\n              currentSort={currentSort}\n              focusOffer={focusOffer}\n              onCardHover={onCardHover}\n              onCardLeave={onCardLeave}\n              onResetError={onResetError}\n              responseStatus={responseStatus}\n            />\n          }\n        />\n        <PrivateRoute\n          exact\n          path={AppRoute.FAVORITE}\n          render={() => (\n            <FavoritesWrapped\n              onCardHover={onCardHover}\n              onCardLeave={onCardLeave}\n              onResetError={onResetError}\n              responseStatus={responseStatus}\n              currentCity={currentCity}\n            />\n          )}\n        />\n        <RouteWithPage\n          exact\n          path={AppRoute.NOT_FOUND}\n          component={\n            <NotFoundPage />\n          }\n        />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  authStatus: getAuthorizationStatus(state),\n  focusOffer: getFocusOffer(state),\n  currentCity: getCurrentCity(state),\n  currentSort: getCurrentSort(state),\n  currentCityOffers: getOffersCurrentCity(state),\n  offers: getOffers(state),\n  locations: getLocations(state),\n  loadStatus: getLoadStatus(state),\n  responseStatus: getResponseStatusCode(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onCardHover(offer) {\n    dispatch(ActionOffer.setFocusOffer(offer));\n  },\n  onCardLeave() {\n    dispatch(ActionOffer.resetFocusOffer());\n  },\n  onResetError() {\n    dispatch(ResetResponseStatus.resetResponseStatusCode());\n  },\n  signIn(authData) {\n    dispatch(UserOperation.signIn(authData));\n  }\n});\n\nexport {\n  App\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import NameSpace from '../name-space.js';\n\nconst NAME_SPACE = NameSpace.RESPONSE;\n\nconst getResponseStatusCode = (state) => state[NAME_SPACE].responseStatusCode;\n\nexport {\n  getResponseStatusCode\n};\n","import NameSpace from '../name-space.js';\n\nconst getCurrentCity = (state) => {\n  return state[NameSpace.CITY].currentCity;\n};\n\nexport {\n  getCurrentCity,\n};\n","import NameSpace from '../name-space.js';\n\nconst NAME_SPACE = NameSpace.SORT;\n\nconst getCurrentSort = (state) => {\n  return state[NAME_SPACE].currentSort;\n};\n\nexport {\n  getCurrentSort,\n};\n","import * as React from 'react';\nimport ErrorMessage from '../../components/error-message/error-message';\n\nconst withErrorMessage = (Component) => {\n  type S = React.ComponentProps<typeof Component>;\n\n  class WithErrorMessage extends React.PureComponent<S, {}> {\n    _isErrorCode(responseStatus) {\n      if (responseStatus === null) {\n        return false;\n      }\n\n      const firstNumber = responseStatus\n        .toString()[0];\n\n      if (firstNumber === `2`) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n\n    render() {\n      const {\n        onResetError,\n        responseStatus,\n      } = this.props;\n\n      return (\n        <React.Fragment>\n          {this._isErrorCode(responseStatus) && <ErrorMessage\n            errorCode={responseStatus}\n            onResetError={onResetError}\n          />}\n          {this._isErrorCode(responseStatus) || ``}\n          <Component\n            {...this.props}\n          />\n        </React.Fragment>\n      );\n    }\n  }\n\n  return WithErrorMessage;\n};\n\nexport default withErrorMessage;\n","import * as React from 'react';\nimport * as CSS from 'csstype';\n\ninterface Props {\n  errorCode: number;\n  onResetError: () => void;\n}\n\ntype CSSProps = {\n  errorMessage: CSS.Properties;\n  header: CSS.Properties;\n  closeButton: CSS.Properties;\n}\n\nconst Styles: CSSProps = {\n  errorMessage: {\n    position: `fixed`,\n    top: `5%`,\n    right: `50%`,\n    left: `50%`,\n    zIndex: 50,\n    width: `250px`,\n    color: `#ffffff`,\n    padding: `25px`,\n    backgroundColor: `rgba(255, 99, 71, 0.75)`,\n    borderRadius: `5px`,\n  },\n  header: {\n    paddingBottom: `10px`,\n  },\n  closeButton: {\n    position: `absolute`,\n    top: `5px`,\n    right: `5px`,\n    zIndex: 10,\n    width: `10px`,\n    height: `10px`,\n    padding: `10px`,\n    color: `#ffffff`,\n    backgroundSize: `10px`,\n    backgroundImage: `url(./img/close.svg)`,\n    backgroundPosition: `center`,\n    backgroundRepeat: `no-repeat`,\n  }\n};\n\nclass ErrorMessage extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n    this._onEscKeyDown = this._onEscKeyDown.bind(this);\n    this._handleMessageClose = this._handleMessageClose.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener(`keydown`, this._onEscKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(`keydown`, this._onEscKeyDown);\n  }\n\n  _handleMessageClose() {\n    this.props.onResetError();\n  }\n\n  _onEscKeyDown(evt) {\n    if (evt.key === `Escape` || evt.key === `Esc`) {\n      this.props.onResetError();\n    }\n  }\n\n  render() {\n    const {\n      errorCode\n    } = this.props;\n\n    return (\n      <div\n        className=\"error-message\"\n        style={Styles.errorMessage}\n      >\n        <div className=\"error-message__header\"\n          style={Styles.header}\n        >\n          <b> : {errorCode}</b>\n        </div>\n        <div className=\"message__text\">\n          <p>-   :(</p>\n        </div>\n        <button\n          className=\"error-message__button\"\n          style={Styles.closeButton}\n          onClick={this._handleMessageClose}></button>\n      </div>\n    );\n  }\n}\n\nexport default ErrorMessage;\n\n","import * as React from 'react';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  Offer,\n  User,\n} from \"../../types\";\nimport {\n  getFavorites,\n  getFavoritesLocations,\n} from '../../reducer/favorite/selectors';\nimport {\n  getAuthorizationStatus,\n  getUser,\n} from '../../reducer/user/selectors';\nimport {\n  AuthorizationStatus\n} from '../../reducer/user/user';\nimport Page from '../page/page';\nimport FavoritesEmpty from '../favorites-empty/favorites-empty';\nimport FavoritesList from '../favorites-list/favorites-list';\n\ninterface Props {\n  authStatus: string;\n  currentCity: string;\n  favorites: Offer[];\n  favoritesLocations: string[];\n  onCardHover: () => void;\n  onCardLeave: () => void;\n  user: User;\n}\n\nclass Favorites extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _setClassModificator() {\n    const {\n      favorites,\n    } = this.props;\n\n    const isEmpty = favorites.length === 0;\n\n    if (isEmpty) {\n      return `page page--favorites page--favorites-empty`;\n    } else {\n      return `page page--favorites`;\n    }\n  }\n\n  render() {\n    const {\n      authStatus,\n      currentCity,\n      favorites,\n      favoritesLocations,\n      onCardHover,\n      onCardLeave,\n      user,\n    } = this.props;\n\n    const isEmpty = favorites.length === 0;\n    const isAuth = authStatus === AuthorizationStatus.AUTH;\n\n    return (\n      <Page\n        className={this._setClassModificator()}\n        isAuth={isAuth}\n        user={user}\n      >\n        <React.Fragment>\n          <main className={`page__main page__main--favorites ${isEmpty ? `page__main--favorites-empty` : ``}`}>\n            <div className=\"page__favorites-container container\">\n              {isEmpty &&\n                <FavoritesEmpty />\n              }\n              {isEmpty ||\n                <FavoritesList\n                  currentCity={currentCity}\n                  favorites={favorites}\n                  favoritesLocations={favoritesLocations}\n                  onCardHover={onCardHover}\n                  onCardLeave={onCardLeave}\n                />\n              }\n            </div>\n          </main>\n          <footer className=\"footer container\">\n            <a className=\"footer__logo-link\" href=\"main.html\">\n              <img\n                className=\"footer__logo\"\n                src=\"../img/logo.svg\"\n                alt=\"6 cities logo\"\n                width=\"64\"\n                height=\"33\"\n              />\n            </a>\n          </footer>\n        </React.Fragment>\n      </Page>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  authStatus: getAuthorizationStatus(state),\n  favorites: getFavorites(state),\n  favoritesLocations: getFavoritesLocations(state),\n  user: getUser(state),\n});\n\nexport {\n  Favorites\n};\n\nexport default connect(mapStateToProps)(Favorites);\n","import * as React from 'react';\nimport {\n  Link\n} from 'react-router-dom';\nimport {\n  AppRoute,\n  SITE_URL\n} from '../../consts';\nimport {\n  User\n} from '../../types';\nimport Logotype from \"../logotype/logotype\";\n\ninterface Props {\n  isAuth: boolean;\n  user: User;\n}\n\nconst Header: React.FC<Props> = (props: Props) => {\n  const {\n    isAuth,\n    user,\n  } = props;\n\n  return (\n    <header className=\"header\">\n      <div className=\"container\">\n        <div className=\"header__wrapper\">\n          <div className=\"header__left\">\n            <Logotype />\n          </div>\n          <nav className=\"header__nav\">\n            <ul className=\"header__nav-list\">\n              <li className=\"header__nav-item user\">\n                {isAuth &&\n                  <Link className=\"header__nav-link header__nav-link--profile\"\n                    to={AppRoute.FAVORITE}\n                  >\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"\n                      style={{backgroundImage: `url(${SITE_URL}${user.avatarUrl})`}}\n                    />\n                    <span className=\"header__user-name user__name\">{user.email}</span>\n                  </Link>\n                }\n                {isAuth ||\n                  <Link to={AppRoute.LOGIN} className=\"header__nav-link header__nav-link--profile\">\n                    <div className=\"header__avatar-wrapper user__avatar-wrapper\"/>\n                    <span className=\"header__user-name user__name\">Sign in</span>\n                  </Link>\n                }\n              </li>\n            </ul>\n          </nav>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import * as React from 'react';\nimport {\n  Link\n} from 'react-router-dom';\nimport {\n  AppRoute\n} from '../../consts';\n\nconst Logotype = () => {\n  return (\n    <Link to={AppRoute.ROOT} className=\"header__logo-link header__logo-link--active\">\n      <img className=\"header__logo\" src=\"../img/logo.svg\" alt=\"6 cities logo\" width=\"81\" height=\"41\" />\n    </Link>\n  );\n};\n\nexport default Logotype;\n","import * as React from 'react';\n\nconst FavoritesEmpty = () => {\n  return (\n    <section className=\"favorites favorites--empty\">\n      <h1 className=\"visually-hidden\">Favorites (empty)</h1>\n      <div className=\"favorites__status-wrapper\">\n        <b className=\"favorites__status\">Nothing yet saved.</b>\n        <p className=\"favorites__status-description\">Save properties to narrow down search or plan yor future trips.</p>\n      </div>\n    </section>\n  );\n};\n\nexport default FavoritesEmpty;\n","import * as React from 'react';\nimport {\n  getUniqueArray\n} from '../../utils';\nimport {\n  Offer\n} from '../../types';\nimport FavoriteItem from '../favorite-item/favorite-item';\n\ninterface Props {\n  currentCity: string;\n  favorites: Offer[];\n  favoritesLocations: string[];\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nclass FavoritesList extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _getOffersForLocation(favoriteOffers, location) {\n    return getUniqueArray(\n        favoriteOffers\n          .filter((favoriteOffer) => favoriteOffer.city.name === location)\n    );\n  }\n\n  render() {\n    const {\n      currentCity,\n      favorites,\n      favoritesLocations,\n      onCardHover,\n      onCardLeave,\n    } = this.props;\n\n    return (\n      <section className=\"favorites\">\n        <h1 className=\"favorites__title\">\n          Saved listing\n        </h1>\n        <ul className=\"favorites__list\">\n          {favoritesLocations.map((location, i) => (\n            <FavoriteItem\n              city={location}\n              key={location}\n              isCurrentCity={currentCity === location}\n              offers={this._getOffersForLocation(favorites, favoritesLocations[i])}\n              onCardHover={onCardHover}\n              onCardLeave={onCardLeave}\n            />\n          ))}\n        </ul>\n      </section>\n    );\n  }\n}\n\nexport default FavoritesList;\n","import * as React from 'react';\nimport {\n  Offer\n} from '../../types';\nimport {\n  ClassModificator\n} from '../../consts';\nimport PlaceCard from '../place-card/place-card';\nimport withHover from '../../hocs/with-hover/with-hover';\n\ninterface Props {\n  city: string;\n  offers: Offer[];\n  isCurrentCity: boolean;\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nconst PlaceCardWrapped = withHover(PlaceCard);\n\nconst FavoriteItem: React.FC<Props> = (props: Props) => {\n  const {\n    city,\n    offers,\n    isCurrentCity,\n    onCardHover,\n    onCardLeave,\n  } = props;\n\n  return (\n    <li className=\"favorites__locations-items\">\n      <div className={`favorites__locations locations ${isCurrentCity ? `locations--current` : ``}`}>\n        <div className=\"locations__item\">\n          <a className=\"locations__item-link\" href=\"#\">\n            <span>\n              {city}\n            </span>\n          </a>\n        </div>\n      </div>\n      <div className=\"favorites__places\">\n        {offers.map((offer) => (\n          <PlaceCardWrapped\n            key={offer.id}\n            classModificator={ClassModificator.FAVORITES}\n            offer={offer}\n            onCardHover={onCardHover}\n            onCardLeave={onCardLeave}\n          />\n        ))}\n      </div>\n    </li>\n  );\n};\n\nexport default FavoriteItem;\n","import * as React from 'react';\nimport {\n  Redirect\n} from 'react-router-dom';\nimport {\n  AppRoute\n} from '../../consts';\nimport withAuthorization from '../../hocs/with-authorization/with-authorization';\nimport LoginForm from '../login-form/login-form';\n\ninterface Props {\n  currentCity: string;\n  isAuth: boolean;\n  signIn: () => void;\n}\n\nconst LoginFormWrapped = withAuthorization(LoginForm);\n\nconst Login: React.FC<Props> = (props: Props) => {\n  const {\n    currentCity,\n    isAuth,\n    signIn,\n  } = props;\n\n  return (\n    <React.Fragment>\n      {isAuth &&\n        <Redirect to={AppRoute.ROOT}/>\n      }\n      {isAuth ||\n        <main className=\"page__main page__main--login\">\n          <div className=\"page__login-container container\">\n            <section className=\"login\">\n              <h1 className=\"login__title\">\n                Sign in\n              </h1>\n              <LoginFormWrapped\n                signIn={signIn}\n              />\n            </section>\n            <section className=\"locations locations--login locations--current\">\n              <div className=\"locations__item\">\n                <a className=\"locations__item-link\" href=\"#\">\n                  <span>\n                    {currentCity}\n                  </span>\n                </a>\n              </div>\n            </section>\n          </div>\n        </main>\n      }\n    </React.Fragment>\n  );\n};\n\nexport default Login;\n","import * as React from 'react';\nimport {\n  Subtract\n} from \"utility-types\";\n\ninterface State {\n  login: string;\n  password: string;\n}\n\ninterface InjectingProps {\n  login: string;\n  password: string;\n  onChange: () => void;\n}\n\nconst withAuthorization = (Component) => {\n  type S = React.ComponentProps<typeof Component>;\n  type T = Subtract<S, InjectingProps>\n\n  class WithAuthorization extends React.PureComponent<T, State> {\n    constructor(props) {\n      super(props);\n      this.state = {\n        login: ``,\n        password: ``\n      };\n      this._setDataUser = this._setDataUser.bind(this);\n    }\n\n    _setDataUser({currentTarget}) {\n      switch (currentTarget.name) {\n        case `email`:\n          this.setState({\n            login: currentTarget.value\n          });\n          break;\n        case `password`:\n          this.setState({\n            password: currentTarget.value\n          });\n          break;\n      }\n    }\n\n    render() {\n      const {\n        login,\n        password\n      } = this.state;\n\n      return (\n        <Component\n          {...this.props}\n          login={login}\n          password={password}\n          onChange={this._setDataUser}\n        />\n      );\n    }\n  }\n\n  return WithAuthorization;\n};\n\nexport default withAuthorization;\n","import * as React from 'react';\nimport {\n  TypeInputLogin\n} from '../../consts';\nimport LoginInput from '../login-input/login-input';\n\ntype LoginValue = {\n  login: string;\n  password: string;\n}\n\ninterface Props {\n  login: string;\n  password: string;\n  onChange: () => void;\n  signIn: (LoginValue) => void;\n}\n\nclass LoginForm extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n    this._handleSubmit = this._handleSubmit.bind(this);\n  }\n\n  _handleSubmit(evt) {\n    evt.preventDefault();\n    const {\n      login,\n      password,\n    } = this.props;\n    this.props.signIn({\n      login,\n      password,\n    });\n  }\n\n  render() {\n    const {\n      login,\n      password,\n      onChange,\n    } = this.props;\n\n    return (\n      <form\n        className=\"login__form form\"\n        action=\"#\"\n        method=\"post\"\n        onSubmit={this._handleSubmit}\n      >\n        <div className=\"login__input-wrapper form__input-wrapper\">\n          <label className=\"visually-hidden\">\n            E-mail\n          </label>\n          <LoginInput\n            onChange={onChange}\n            type={TypeInputLogin.EMAIL}\n            value={login}\n          />\n        </div>\n        <div className=\"login__input-wrapper form__input-wrapper\">\n          <label className=\"visually-hidden\">\n            Password\n          </label>\n          <LoginInput\n            onChange={onChange}\n            type={TypeInputLogin.PASSWORD}\n            value={password}\n          />\n        </div>\n        <button\n          className=\"login__submit form__submit button\"\n          type=\"submit\"\n        >\n          Sign in\n        </button>\n      </form>\n    );\n  }\n}\n\nexport default LoginForm;\n","import * as React from 'react';\nimport {\n  TypeInputLogin\n} from '../../consts';\n\ninterface Props {\n  onChange: () => void;\n  type: string;\n  value: string;\n}\n\nconst LoginInput: React.FC<Props> = (props: Props) => {\n  const {\n    onChange,\n    type,\n    value,\n  } = props;\n\n  const PLACEHOLDER = type === TypeInputLogin.EMAIL ? `Email` : `Password`;\n\n  return (\n    <input className=\"login__input form__input\"\n      type={type}\n      name={type}\n      placeholder={PLACEHOLDER}\n      value={value}\n      onChange={onChange}\n      required\n    />\n  );\n};\n\nexport default LoginInput;\n","import * as React from 'react';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  Offer\n} from \"../../types\";\nimport {\n  ActionCreator as ActionCity\n} from '../../reducer/city/city';\nimport {\n  ActionCreator as ActionSort\n} from '../../reducer/sort/sort';\nimport Cities from \"../cities/cities\";\nimport Locations from \"../locations/locations\";\n\ninterface Props {\n  currentCity: string;\n  currentSort: string;\n  currentCityOffers: Offer[];\n  focusOffer: Offer;\n  handleLocationClick: () => void;\n  handleSortChange: () => void;\n  locations: string[];\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nclass Main extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      currentCityOffers,\n      currentCity,\n      currentSort,\n      focusOffer,\n      handleLocationClick,\n      handleSortChange,\n      locations,\n      onCardHover,\n      onCardLeave,\n    } = this.props;\n\n    const isLoadingCurrentCityOffers = currentCityOffers.length === 0;\n\n    if (isLoadingCurrentCityOffers) {\n      return ``;\n    }\n\n    return (\n      <main className={`page__main page__main--index`}>\n        <h1 className=\"visually-hidden\">Cities</h1>\n        <Locations\n          currentCity={currentCity}\n          handleLocationClick={handleLocationClick}\n          locations={locations}\n        />\n        <Cities\n          currentCityOffers={currentCityOffers}\n          focusOffer={focusOffer}\n          currentCity={currentCity}\n          currentSort={currentSort}\n          handleSortChange={handleSortChange}\n          onCardHover={onCardHover}\n          onCardLeave={onCardLeave}\n        />\n      </main>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleLocationClick(location) {\n    dispatch(ActionCity.setCurrentCity(location));\n  },\n  handleSortChange(sort) {\n    dispatch(ActionSort.setCurrentSort(sort));\n  },\n});\n\nexport {\n  Main\n};\n\nexport default connect(null, mapDispatchToProps)(Main);\n","import * as React from 'react';\nimport {\n  Offer,\n} from '../../types';\nimport {\n  ClassModificator\n} from \"../../consts\";\nimport Map from \"../map/map\";\nimport Places from \"../places/places\";\n\ninterface Props {\n  currentCity: string;\n  currentSort: string;\n  currentCityOffers: Offer[];\n  focusOffer: Offer;\n  onCardHover: () => void;\n  onCardLeave: () => void;\n  handleSortChange: () => void;\n}\n\nconst Cities: React.FC<Props> = (props: Props) => {\n  const {\n    currentCityOffers,\n    currentSort,\n    currentCity,\n    focusOffer,\n    handleSortChange,\n    onCardHover,\n    onCardLeave,\n  } = props;\n\n  return (\n    <div className=\"cities\">\n      <div className=\"cities__places-container container\">\n        <Places\n          classModificator={ClassModificator.CITIES_PLACES}\n          currentCity={currentCity}\n          currentCityOffers={currentCityOffers}\n          currentSort={currentSort}\n          handleSortChange={handleSortChange}\n          onCardHover={onCardHover}\n          onCardLeave={onCardLeave}\n        />\n        <div className=\"cities__right-section\">\n          <Map\n            classModificator={ClassModificator.CITIES_MAP}\n            currentCityOffers={currentCityOffers}\n            focusOffer={focusOffer}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Cities;\n","import * as React from 'react';\nimport {\n  Offer\n} from \"../../types\";\nimport {\n  TypeSort,\n  ClassModificator,\n} from \"../../consts\";\nimport PlaceCard from \"../place-card/place-card\";\nimport withHover from \"../../hocs/with-hover/with-hover\";\n\ninterface Props {\n  currentCityOffers: Offer[];\n  currentSort: string;\n  classModificator: string;\n  onCardHover: () => void;\n  onCardLeave: () => void;\n}\n\nconst PlaceCardWrapped = withHover(PlaceCard);\n\nclass PlacesCardList extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _sortBy() {\n    const {\n      currentCityOffers,\n      currentSort,\n    } = this.props;\n\n    switch (currentSort) {\n      case TypeSort.PRICE_LOW_TO_HIGH:\n        return currentCityOffers.slice().sort((a, b) => a.price - b.price);\n      case TypeSort.PRICE_HIGH_TO_LOW:\n        return currentCityOffers.slice().sort((a, b) => b.price - a.price);\n      case TypeSort.TOP_RATED_FIRST:\n        return currentCityOffers.slice().sort((a, b) => b.rating - a.rating);\n      default:\n        return currentCityOffers;\n    }\n  }\n\n  render() {\n    const {\n      classModificator,\n      onCardHover,\n      onCardLeave,\n    } = this.props;\n\n    const places = this._sortBy().map((offer) =>\n      <PlaceCardWrapped\n        classModificator={ClassModificator.CITIES}\n        key={`${offer.id}`}\n        offer={offer}\n        onCardHover={onCardHover}\n        onCardLeave={onCardLeave}\n      />);\n\n    return (\n      <div className={`places__list ${classModificator}`}>\n        {\n          places\n        }\n      </div>\n    );\n  }\n}\n\nexport default PlacesCardList;\n","import * as React from 'react';\nimport {\n  SORTING\n} from \"../../consts\";\n\ninterface Props {\n  currentSort: string;\n  handleSortChange: (string) => void;\n  isActive: boolean;\n  onToggleClick: () => void;\n}\n\nconst PlacesSort: React.FC<Props> = (props: Props) => {\n  const {\n    currentSort,\n    handleSortChange,\n    isActive,\n    onToggleClick,\n  } = props;\n\n  return (\n    <form\n      className=\"places__sorting\"\n      action=\"#\"\n      method=\"get\"\n      onClick={onToggleClick}\n    >\n      <span className=\"places__sorting-caption\">Sort by </span>\n      <span className=\"places__sorting-type\" tabIndex={0}>\n        {\n          currentSort\n        }\n        <svg className=\"places__sorting-arrow\" width=\"7\" height=\"4\">\n          <use xlinkHref=\"#icon-arrow-select\"></use>\n        </svg>\n      </span>\n      <ul className={`places__options places__options--custom ${isActive ? `places__options--opened` : ``}`\n      }\n      >\n        {\n          SORTING.map((sort) =>\n            sort !== currentSort && <li\n              className=\"places__option\"\n              key={sort}\n              tabIndex={0}\n              onClick={()=> {\n                handleSortChange(sort);\n              }}\n            >\n              {sort}\n            </li>\n          )\n        }\n      </ul>\n    </form>\n  );\n};\n\nexport default PlacesSort;\n","import * as React from 'react';\nimport {\n  Subtract\n} from \"utility-types\";\n\ninterface State {\n  isActive: boolean;\n}\n\ninterface InjectingProps {\n  isActive: boolean;\n  onToggleClick: () => void;\n}\n\nconst withToggle = (Component) => {\n  type S = React.ComponentProps<typeof Component>;\n  type T = Subtract<S, InjectingProps>;\n\n  class WithToggle extends React.PureComponent<T, State> {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        isActive: false\n      };\n      this._handleToggleClick = this._handleToggleClick.bind(this);\n    }\n\n    _handleToggleClick() {\n      this.setState((state) => {\n        return {\n          isActive: !state.isActive\n        };\n      });\n    }\n\n    render() {\n      const {\n        isActive\n      } = this.state;\n\n      return (\n        <Component\n          {...this.props}\n          isActive={isActive}\n          onToggleClick={this._handleToggleClick}\n        />\n      );\n    }\n  }\n\n  return WithToggle;\n};\n\nexport default withToggle;\n","import * as React from 'react';\n\ninterface Props {\n  currentCity: string;\n  locations: string[];\n  handleLocationClick: (location: string) => void;\n}\n\nconst Locations: React.FC<Props> = (props: Props) => {\n  const {\n    currentCity,\n    locations,\n    handleLocationClick,\n  } = props;\n\n  return (\n    <div className=\"tabs\">\n      <section className=\"locations container\">\n        <ul className=\"locations__list tabs__list\">\n          {locations.map((location) =>\n            <li\n              className=\"locations__item\"\n              key={\n                location\n              }\n              onClick={() => {\n                handleLocationClick(location);\n              }}\n            >\n              <a className={\n                `locations__item-link tabs__item ${location === currentCity ? `tabs__item--active` : ``}`\n              }\n              href=\"#\"\n              >\n                <span>\n                  {location}\n                </span>\n              </a>\n            </li>\n          )}\n        </ul>\n      </section>\n    </div>\n  );\n};\n\nexport default Locations;\n","import * as React from 'react';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  ClassModificator,\n} from \"../../consts\";\nimport {\n  getCommentsByShow,\n  getOffersNearby,\n  getCountComments,\n} from '../../reducer/data/selectors';\nimport {\n  getActiveOffer,\n} from '../../reducer/offer/selectors';\nimport {\n  getAuthorizationStatus,\n} from '../../reducer/user/selectors';\nimport {\n  Operation as DataOperation\n} from '../../reducer/data/data';\nimport {\n  AuthorizationStatus\n} from '../../reducer/user/user';\nimport {\n  Offer,\n  Comment,\n} from \"../../types\";\nimport Reviews from \"../reviews/reviews\";\nimport Map from \"../map/map\";\nimport Places from \"../places/places\";\nimport FavoriteButton from \"../favorite-button/favorite-button\";\nimport Rating from '../rating/rating';\n\ninterface Props {\n  activeOffer: Offer;\n  authStatus: string;\n  currentSort: string;\n  comments: Comment[];\n  countComments: number;\n  focusOffer: Offer;\n  offersNearby: Offer[];\n  onCardHover: () => void;\n  onCardLeave: () => void;\n  onCommentSubmit: () => void;\n  onLoadDataProperty: () => void;\n  responseStatus: null | number;\n}\n\nclass Property extends React.PureComponent<Props, {}> {\n  componentDidMount() {\n    this.props.onLoadDataProperty();\n  }\n\n  componentDidUpdate({offersNearby}) {\n    if (!offersNearby) {\n      this.props.onLoadDataProperty();\n    }\n  }\n\n  render() {\n    const {\n      activeOffer,\n      authStatus,\n      currentSort,\n      comments,\n      countComments,\n      focusOffer,\n      offersNearby,\n      onCardHover,\n      onCommentSubmit,\n      onCardLeave,\n      responseStatus,\n    } = this.props;\n\n    const isLoading = offersNearby.length === 0 || activeOffer === null;\n\n    if (isLoading) {\n      return ``;\n    }\n\n    const {\n      bedrooms,\n      goods,\n      host,\n      id,\n      images,\n      isPremium,\n      maxAdults,\n      price,\n      rating,\n      title,\n      type,\n      location,\n    } = activeOffer;\n\n    const CURRENT_OFFER_COORDINATE = {\n      lat: location.latitude,\n      lng: location.longitude,\n    };\n\n    const isAuth = authStatus === AuthorizationStatus.AUTH;\n\n    return (\n      <main className=\"page__main page__main--property\">\n        <section className=\"property\">\n          <div className=\"property__gallery-container container\">\n            <div className=\"property__gallery\">\n              {images.map((img, i) =>\n                <div key={`${i}${img}`} className=\"property__image-wrapper\">\n                  <img className=\"property__image\" src={img} alt=\"Photo studio\" />\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"property__container container\">\n            <div className=\"property__wrapper\">\n              {isPremium &&\n                <div className=\"property__mark\">\n                  <span>\n                    Premium\n                  </span>\n                </div>\n              }\n              <div className=\"property__name-wrapper\">\n                <h1 className=\"property__name\">\n                  {title}\n                </h1>\n                <FavoriteButton\n                  classModificator={ClassModificator.PROPERTY}\n                  id={id}\n                  height={33}\n                  width={31}\n                />\n              </div>\n              <Rating\n                classModificator={ClassModificator.PROPERTY}\n                rating={rating}\n              />\n              <ul className=\"property__features\">\n                <li className=\"property__feature property__feature--entire\">\n                  {type}\n                </li>\n                <li className=\"property__feature property__feature--bedrooms\">\n                  {bedrooms} Bedrooms\n                </li>\n                <li className=\"property__feature property__feature--adults\">\n                  Max {maxAdults} adults\n                </li>\n              </ul>\n              <div className=\"property__price\">\n                <b className=\"property__price-value\">&euro;\n                  {price}\n                </b>\n                <span className=\"property__price-text\">&nbsp;night</span>\n              </div>\n              <div className=\"property__inside\">\n                <h2 className=\"property__inside-title\">What&apos;s inside</h2>\n                <ul className=\"property__inside-list\">\n                  {goods.map((item) =>\n                    <li key={item} className=\"property__inside-item\">\n                      {item}\n                    </li>)\n                  }\n                </ul>\n              </div>\n              <div className=\"property__host\">\n                <h2 className=\"property__host-title\">Meet the host</h2>\n                <div className=\"property__host-user user\">\n                  <div className={`property__avatar-wrapper ${host.isPro ? `property__avatar-wrapper--pro` : ``} user__avatar-wrapper`}>\n                    <img className=\"property__avatar user__avatar\" src={`../${host.avatarUrl}`} width=\"74\" height=\"74\" alt=\"Host avatar\" />\n                  </div>\n                  <span className=\"property__user-name\">\n                    {host.name}\n                  </span>\n                </div>\n                <div className=\"property__description\">\n                  <p className=\"property__text\">\n                  </p>\n                </div>\n              </div>\n              {<Reviews\n                comments={comments}\n                countComments={countComments}\n                isAuth={isAuth}\n                onCommentSubmit={onCommentSubmit}\n                responseStatus={responseStatus}\n              />}\n            </div>\n          </div>\n          {<Map\n            classModificator={ClassModificator.PROPERTY_MAP}\n            currentCityOffers={offersNearby}\n            focusOffer={focusOffer}\n            currentOfferCoordinate={CURRENT_OFFER_COORDINATE}\n          />}\n        </section>\n        <div className=\"container\">\n          {<Places\n            classModificator={ClassModificator.NEAR_PLACES}\n            currentCityOffers={offersNearby}\n            currentSort={currentSort}\n            onCardHover={onCardHover}\n            onCardLeave={onCardLeave}\n          />}\n        </div>\n      </main>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  activeOffer: getActiveOffer(state),\n  authStatus: getAuthorizationStatus(state),\n  comments: getCommentsByShow(state),\n  countComments: getCountComments(state),\n  offersNearby: getOffersNearby(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onCommentSubmit(comment) {\n    dispatch(DataOperation.uploadComments(comment));\n  },\n  onLoadDataProperty() {\n    dispatch(DataOperation.loadComments());\n    dispatch(DataOperation.loadOffersNearby());\n  },\n});\n\nexport {\n  Property\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Property);\n","import * as React from 'react';\nimport {\n  Comment\n} from \"../../types\";\nimport ReviewsList from \"../reviews-list/reviews-list\";\nimport ReviewsForm from \"../reviews-form/reviews-form\";\nimport withCommentData from '../../hocs/with-comment-data/with-comment-data';\n\ninterface Props {\n  comments: Comment[];\n  countComments: number;\n  isAuth: boolean;\n  onCommentSubmit: () => void;\n  responseStatus: number | null;\n}\n\nconst ReviewsFormWrapped = withCommentData(ReviewsForm);\n\nconst Reviews: React.FC<Props> = (props: Props) => {\n  const {\n    comments,\n    countComments,\n    isAuth,\n    onCommentSubmit,\n    responseStatus,\n  } = props;\n\n  return (\n    <section className=\"property__reviews reviews\">\n      <h2 className=\"reviews__title\">Reviews &middot;\n        <span className=\"reviews__amount\">\n          {countComments}\n        </span>\n      </h2>\n      {<ReviewsList\n        comments={comments}\n      />}\n      {isAuth &&\n        <ReviewsFormWrapped\n          countComments={countComments}\n          onCommentSubmit={onCommentSubmit}\n          responseStatus={responseStatus}\n        />\n      }\n    </section>\n  );\n};\n\nexport default Reviews;\n","import * as React from 'react';\nimport {\n  Comment\n} from \"../../types\";\nimport ReviewItem from \"../review-item/review-item\";\n\ninterface Props {\n  comments: Comment[];\n}\n\nconst ReviewsList: React.FC<Props> = (props: Props) => {\n  const {\n    comments\n  } = props;\n\n  return (\n    <ul className=\"reviews__list\">\n      {comments\n        .slice()\n        .reverse()\n        .map((comment) =>\n          <ReviewItem\n            key={`${comment.id}`}\n            comment={comment}\n          />\n        )}\n    </ul>\n  );\n};\n\nexport default ReviewsList;\n","import * as React from 'react';\nimport {\n  Comment\n} from \"../../types\";\nimport {\n  ONE_STAR\n} from \"../../consts\";\n\ninterface Props {\n  comment: Comment;\n}\n\nclass ReviewItem extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _getDate(date) {\n    const dateMonthYearOptions = {\n      month: `long`,\n      year: `numeric`\n    };\n\n    return `${\n      new Date(date)\n        .toLocaleString(`en-EN`, dateMonthYearOptions)\n    }`;\n  }\n\n  render() {\n    const {\n      comment\n    } = this.props;\n\n    const {\n      date,\n      rating,\n      user,\n    } = comment;\n\n    return (\n      <li className=\"reviews__item\">\n        <div className=\"reviews__user user\">\n          <div className=\"reviews__avatar-wrapper user__avatar-wrapper\">\n            <img\n              className=\"reviews__avatar user__avatar\"\n              src={user.avatarUrl}\n              width=\"54\"\n              height=\"54\"\n              alt=\"Reviews avatar\"\n            />\n          </div>\n          <span className=\"reviews__user-name\">\n            {user.name}\n          </span>\n        </div>\n        <div className=\"reviews__info\">\n          <div className=\"reviews__rating rating\">\n            <div className=\"reviews__stars rating__stars\">\n              <span style={{width: `${ONE_STAR * rating}%`}}></span>\n              <span className=\"visually-hidden\">Rating</span>\n            </div>\n          </div>\n          <p className=\"reviews__text\">\n            {comment.comment}\n          </p>\n          <time className=\"reviews__time\" dateTime={date}>\n            {this._getDate(date)}\n          </time>\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default ReviewItem;\n","import * as React from 'react';\nimport {\n  STARS,\n  ResponseStatus,\n} from \"../../consts\";\n\ninterface Props {\n  comment: string;\n  countComments: number;\n  onChange: () => void;\n  onSubmit: () => void;\n  rating: number;\n}\n\nclass ReviewsForm extends React.PureComponent<Props, {}> {\n  private _submitButtonRef;\n  private _textAreaRef;\n\n  constructor(props) {\n    super(props);\n    this._submitButtonRef = React.createRef();\n    this._textAreaRef = React.createRef();\n    this._setDisabledOnClick = this._setDisabledOnClick.bind(this);\n    this._checkTextAreaDisabled = this._checkTextAreaDisabled.bind(this);\n  }\n\n  componentDidMount() {\n    this._submitButtonRef.current.disabled = true;\n  }\n\n  componentDidUpdate(prevProps) {\n    this._checkTextAreaDisabled(prevProps);\n    this._checkSubmitDisabled();\n  }\n\n  _setDisabledOnClick() {\n    this._submitButtonRef.current.disabled = true;\n    this._textAreaRef.current.disabled = true;\n  }\n\n  _checkSubmitDisabled() {\n    const {\n      rating,\n      comment,\n    } = this.props;\n\n    if (rating === 0 || comment.length <= 50 || comment.length >= 300) {\n      this._submitButtonRef.current.disabled = true;\n    } else {\n      this._submitButtonRef.current.disabled = false;\n    }\n  }\n\n  _checkTextAreaDisabled(prevProps) {\n    const {\n      responseStatus,\n      countComments,\n    } = prevProps;\n\n    const isOkResponse = responseStatus === ResponseStatus.STATUS_OK || responseStatus === null;\n\n    if (isOkResponse && countComments < this.props.countComments) {\n      this._textAreaRef.current.disabled = false;\n    }\n  }\n\n  render() {\n    const {\n      comment,\n      onChange,\n      onSubmit,\n      rating,\n    } = this.props;\n\n    return (\n      <form\n        className=\"reviews__form form\"\n        action=\"#\"\n        method=\"post\"\n        onSubmit={onSubmit}\n      >\n        <label className=\"reviews__label form__label\" htmlFor=\"review\">Your review</label>\n        <div className=\"reviews__rating-form form__rating\">\n          {STARS.map((numberStars) => (\n            <React.Fragment key={`${numberStars}-stars`}>\n              <input className=\"form__rating-input visually-hidden\"\n                name=\"rating\"\n                value={numberStars}\n                id={`${numberStars}-stars`}\n                type=\"radio\"\n                checked={rating === numberStars}\n                onChange={onChange}\n              />\n              <label\n                htmlFor={`${numberStars}-stars`}\n                className=\"reviews__rating-label form__rating-label\"\n                title=\"perfect\">\n                <svg className=\"form__star-image\" width=\"37\" height=\"33\">\n                  <use xlinkHref=\"#icon-star\"></use>\n                </svg>\n              </label>\n            </React.Fragment>\n          ))\n          }\n        </div>\n        <textarea\n          className=\"reviews__textarea form__textarea\"\n          id=\"review\"\n          name=\"review\"\n          placeholder=\"Tell how was your stay, what you like and what can be improved\"\n          value={comment}\n          onChange={onChange}\n          ref={this._textAreaRef}\n        />\n        <div className=\"reviews__button-wrapper\">\n          <p className=\"reviews__help\">\n              To submit review please make sure to set\n            <span className=\"reviews__star\">rating</span>\n              and describe your stay with at least\n            <b className=\"reviews__text-amount\">\n              50 characters\n            </b>.\n          </p>\n          <button\n            className=\"reviews__submit form__submit button\"\n            type=\"submit\"\n            onClick={this._setDisabledOnClick}\n            ref={this._submitButtonRef}\n          >\n            Submit\n          </button>\n        </div>\n      </form>\n    );\n  }\n}\n\nexport default ReviewsForm;\n","import * as React from 'react';\nimport {\n  Subtract\n} from \"utility-types\";\n\ninterface State {\n  rating: number;\n  comment: string;\n}\n\ninterface Props {\n  countComments: number;\n  onCommentSubmit: () => void;\n}\n\ninterface InjectingProps {\n  comment: string;\n  onChange: () => void;\n  onSubmit: () => void;\n  rating: number;\n}\n\nconst withCommentData = (Component) => {\n  type S = React.ComponentProps<typeof Component>;\n  type T = Subtract<S, InjectingProps>\n\n  class WithCommentData extends React.PureComponent<T, State, Props> {\n    constructor(props) {\n      super(props);\n      this.state = {\n        rating: 0,\n        comment: ``\n      };\n      this._handleChange = this._handleChange.bind(this);\n      this._handleSubmit = this._handleSubmit.bind(this);\n    }\n\n    componentDidUpdate(prevProps) {\n      if (prevProps.countComments < this.props.countComments) {\n        this.setState({\n          rating: 0,\n          comment: ``\n        });\n      }\n    }\n\n    _handleChange({currentTarget}) {\n      switch (currentTarget.name) {\n        case `rating`:\n          this.setState({\n            rating: parseInt(currentTarget.value, 10),\n          });\n          return;\n        case `review`:\n          this.setState({\n            comment: currentTarget.value\n          });\n      }\n    }\n\n    _handleSubmit(evt) {\n      evt.preventDefault();\n\n      const {\n        rating,\n        comment,\n      } = this.state;\n      const {\n        onCommentSubmit\n      } = this.props;\n\n      onCommentSubmit({\n        rating,\n        text: comment,\n      });\n    }\n\n    render() {\n      const {\n        comment,\n        rating,\n      } = this.state;\n\n      return (\n        <Component\n          {...this.props}\n          comment={comment}\n          onChange={this._handleChange}\n          onSubmit={this._handleSubmit}\n          rating={rating}\n        />\n      );\n    }\n  }\n\n  return WithCommentData;\n};\n\nexport default withCommentData;\n","import * as React from 'react';\nimport {\n  Route,\n  Redirect\n} from 'react-router-dom';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  getAuthorizationStatus,\n  getUser,\n} from '../../reducer/user/selectors';\nimport {\n  getOffers,\n  getLoadStatus,\n} from '../../reducer/data/selectors';\nimport {\n  getActiveOffer\n} from '../../reducer/offer/selectors';\nimport {\n  AuthorizationStatus\n} from '../../reducer/user/user';\nimport {\n  AppRoute,\n  ClassModificator\n} from '../../consts';\nimport {\n  User,\n  Offer,\n} from '../../types';\nimport {\n  ActionCreator as ActionOffer\n} from '../../reducer/offer/offer';\nimport Page from '../page/page';\n\ninterface Props {\n  initialOffers: Offer[];\n  activeOffer: Offer;\n  authStatus: number | null;\n  component: React.ReactNode;\n  exact: boolean;\n  loadStatus: boolean;\n  path: string;\n  user: User;\n  onSetActiveOffer: (Offer) => void;\n}\n\nclass RouteWithPage extends React.PureComponent<Props, {}> {\n  constructor(props) {\n    super(props);\n  }\n\n  _setInitialActiveOffer(currentRequestOfferId) {\n    const {\n      initialOffers\n    } = this.props;\n\n    const initialActiveOffer = initialOffers.find((offer) => offer.id === currentRequestOfferId);\n    this.props.onSetActiveOffer(initialActiveOffer);\n  }\n\n  _checkCorrectOfferId(currentRequestOfferId) {\n    const {\n      initialOffers\n    } = this.props;\n\n    return (initialOffers.length <= currentRequestOfferId || isNaN(currentRequestOfferId));\n  }\n\n  render() {\n    const {\n      activeOffer,\n      authStatus,\n      component,\n      exact,\n      loadStatus,\n      path,\n      user,\n    } = this.props;\n\n    const isLoading = loadStatus !== true;\n\n    if (isLoading) {\n      return ``;\n    }\n\n    const isAuth = authStatus === AuthorizationStatus.AUTH;\n    let className;\n\n    switch (path) {\n      case AppRoute.ROOT:\n        className = ClassModificator.PAGE_MAIN;\n        break;\n      case AppRoute.LOGIN:\n        className = ClassModificator.PAGE_LOGIN;\n        break;\n      case AppRoute.OFFER:\n        className = ClassModificator.PAGE_PROPERTY;\n        break;\n      default:\n        className = ClassModificator.PAGE_MAIN;\n    }\n\n    return (\n      <Route\n        path={path}\n        exact={exact}\n        render={(renderProps) => {\n          if (path === AppRoute.OFFER) {\n            const currentRequestOfferId = parseInt(renderProps.match.params.id, 10);\n\n            if (this._checkCorrectOfferId(currentRequestOfferId)) {\n              return (\n                <Redirect to={{\n                  pathname: AppRoute.NOT_FOUND,\n                  state: {\n                    from: renderProps.location\n                  }\n                }}/>\n              );\n            }\n\n            if (activeOffer === null || activeOffer.id !== currentRequestOfferId) {\n              this._setInitialActiveOffer(currentRequestOfferId);\n            }\n          }\n\n          return (\n            <Page\n              className={className}\n              isAuth={isAuth}\n              user={user}\n            >\n              {component}\n            </Page>\n          );\n        }}\n      />\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  authStatus: getAuthorizationStatus(state),\n  activeOffer: getActiveOffer(state),\n  initialOffers: getOffers(state),\n  loadStatus: getLoadStatus(state),\n  user: getUser(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSetActiveOffer(offer) {\n    dispatch(ActionOffer.setActiveOffer(offer));\n  },\n});\n\nexport {\n  RouteWithPage\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RouteWithPage);\n","import * as React from 'react';\nimport {\n  Route, Redirect\n} from 'react-router-dom';\nimport {\n  connect\n} from 'react-redux';\nimport {\n  AppRoute\n} from '../../consts';\nimport {\n  AuthorizationStatus\n} from '../../reducer/user/user';\nimport {\n  getAuthorizationStatus,\n} from '../../reducer/user/selectors';\n\ninterface Props {\n  authStatus: string;\n  exact: boolean;\n  path: string;\n  render: () => React.ReactNode;\n}\n\nconst PrivateRoute: React.FC<Props> = (props: Props) => {\n  const {\n    authStatus,\n    exact,\n    path,\n    render,\n  } = props;\n\n  const isAuth = authStatus === AuthorizationStatus.AUTH;\n\n  return (\n    <Route\n      path={path}\n      exact={exact}\n      render={(routeProps) => {\n        return (\n          isAuth\n            ? render()\n            : <Redirect to={{\n              pathname: AppRoute.LOGIN,\n              state: {\n                from: routeProps.location\n              }\n            }}\n            />\n        );\n      }}\n    />\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  authStatus: getAuthorizationStatus(state),\n});\n\nexport {\n  PrivateRoute\n};\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import * as React from 'react';\n\nconst NotAvailableOffers = () => {\n  return (\n    <main className=\"page__main page__main--index page__main--index-empty\">\n      <div className=\"cities\">\n        <div className=\"cities__places-container cities__places-container--empty container\">\n          <section className=\"cities__no-places\">\n            <div className=\"cities__status-wrapper tabs__content\">\n              <b className=\"cities__status\">\n                No places to stay available\n              </b>\n              <p className=\"cities__status-description\">\n                We could not find any property available at the moment\n              </p>\n            </div>\n          </section>\n          <div className=\"cities__right-section\"></div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default NotAvailableOffers;\n","import * as React from 'react';\n\nconst NotFoundPage = () => {\n  return (\n    <main className=\"page__main page__main--index page__main--index-empty\">\n      <div className=\"cities\">\n        <div className=\"cities__places-container cities__places-container--empty container\">\n          <section className=\"cities__no-places\">\n            <div className=\"cities__status-wrapper tabs__content\">\n              <b className=\"cities__status\">\n                Page not found\n              </b>\n              <p className=\"cities__status-description\">\n                Maybe you were wrong when entering link\n              </p>\n            </div>\n          </section>\n          <div className=\"cities__right-section\"></div>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default NotFoundPage;\n","import {\n  combineReducers\n} from 'redux';\nimport {\n  reducer as data\n} from './data/data.js';\nimport {\n  reducer as sort\n} from './sort/sort.js';\nimport {\n  reducer as city\n} from './city/city.js';\nimport {\n  reducer as offer\n} from './offer/offer.js';\nimport {\n  reducer as user\n} from './user/user.js';\nimport {\n  reducer as response\n} from './response/response.js';\nimport {\n  reducer as favorite\n} from './favorite/favorite.js';\nimport NameSpace from './name-space.js';\n\nexport default combineReducers({\n  [NameSpace.DATA]: data,\n  [NameSpace.SORT]: sort,\n  [NameSpace.OFFER]: offer,\n  [NameSpace.CITY]: city,\n  [NameSpace.USER]: user,\n  [NameSpace.RESPONSE]: response,\n  [NameSpace.FAVORITE]: favorite,\n});\n","import axios from \"axios\";\nimport {\n  ResponseStatus,\n} from './consts';\n\nexport const createAPI = (onUnauthorized) => {\n  const api = axios.create({\n    baseURL: `https://htmlacademy-react-3.appspot.com/six-cities`,\n    timeout: 1000 * 5,\n    withCredentials: true,\n  });\n\n  const onSuccess = (response) => {\n    return response;\n  };\n\n  const onFail = (err) => {\n    const {\n      response\n    } = err;\n\n    if (response.status === ResponseStatus.UNAUTHORIZED) {\n      onUnauthorized();\n\n      throw err;\n    }\n\n    throw err;\n  };\n\n  api.interceptors.response.use(onSuccess, onFail);\n\n  return api;\n};\n\n"],"sourceRoot":""}